<!DOCTYPE html>
<html lang="zxx">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Male_Fashion Template">
    <meta name="keywords" content="Male_Fashion, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Welcome to Mbayat </title>
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="css/elegant-icons.css" type="text/css">
    <link rel="stylesheet" href="css/magnific-popup.css" type="text/css">
    <link rel="stylesheet" href="css/nice-select.css" type="text/css">
    <link rel="stylesheet" href="css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="css/style.css" type="text/css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="css/main.css" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
        integrity="sha512-..." crossorigin="anonymous" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
        integrity="sha512-Cw8FZc+5IiEQMzN5wl4oCx4w77LThnMf5eB8Pm1WObU9eHmDpplKTt6Xe/B+49uNAX69NR/8hSN6GR8imdb8A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        #logout a:hover {
            cursor: pointer;
            text-decoration: underline;
            color: rgb(110, 198, 183);
        }

        .add-button {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: rgb(110, 198, 183);
            border: none;
            border-radius: 15px;
            width: 100px;
            height: 30px;
            cursor: pointer;
            color: white;
            font-size: 12.5px;
            margin: auto;
            display: block;
            margin-bottom: 20px;
        }

        .button-icon {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid white;
            border-radius: 50%;
            text-align: center;
            line-height: 18px;
            margin-right: 5px;
        }

        .button-text {
            font-weight: bold;
        }

        .pause-button {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: rgb(163, 54, 75);
            border: none;
            border-radius: 15px;
            width: 100px;
            height: 30px;
            cursor: pointer;
            color: white;
            font-size: 12.5px;
            margin: auto;
        }

        .pause-button-icon {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid white;
            border-radius: 50%;
            text-align: center;
            line-height: 15px;
            margin-right: 5px;
        }

        .pause-button-text {
            font-weight: bold;
            margin-left: 10px;
        }

        body {
            margin: 0;
            /* overflow: hidden; */
        }

        #canvas {
            width: 100%;
            height: 100%;
        }

        .gallery-container {
            margin: auto;
            width: 55%;
            box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
            border-radius: 10px;
            margin-top: 5px;
        }

        .gallery-date {
            margin: auto;
            width: 30%;
            padding: 5px 20px;
        }


        /* terms and condition gift box */
        .term-condition label {
            font-size: 15px;
            color: #000;
        }

        .term-condition span {
            font-size: 15px;
            color: #6fc7b7;
        }



        /*style for gift history */

        .gift-cards-history {
            padding: 20px;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }


        .gift-card {

            color: #111111;
            font-size: 20px;
            font-weight: 400;
            font-family: "Nunito Sans", sans-serif;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            border: 1px solid #dadada;
            width: 70%;
            box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
            height: 220px;
            margin-top: 10px;
            border-radius: 10px;


        }

        .gift-card-top {
            width: 100%;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #dadada;
        }

        .gift-card-top-left {
            display: flex;
            gap: 3px;
            align-items: center;
            justify-content: center;
        }

        .gift-card-bottom {
            display: flex;
            padding: 10px;
            align-items: center;
            justify-content: space-between;
            width: 100%;

        }

        .gift-card-bottom-left {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .gift-card-bottom-right {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .gift-card-bottom-left-left {
            padding: 10px;
        }

        .gift-card-bottom-left-right {
            padding: 10px;

        }

        .gift-card-bottom-right button {
            border: 1px solid #6FC7B7;
            color: #6FC7B7;
            border-radius: 5px;
            font-size: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
        }


        /*style for subscribe carrds history */


        .subscribe-cards-history {
            padding: 20px;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        @media only screen and (max-width: 768px) {

            .add-button .button-text,
            .pause-button .pause-button-text {
                display: none;
            }
        }

        /* Styles for the modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 0% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
        }
    </style>
    <style>
        .carousel-slide {
            display: flex;
            overflow: hidden;
            width: 50%;
            /* Display one slide at a time */
            box-shadow: rgba(50, 50, 93, 0.25) 0px 30px 60px -12px inset, rgba(0, 0, 0, 0.3) 0px 18px 36px -18px inset;

        }

        .slide {
            flex: 0 0 100%;
            margin-right: 10px;
            box-shadow: rgba(50, 50, 93, 0.25) 0px 30px 60px -12px;
            /* border: 1px solid red; */
            display: flex;
            flex-direction: column;
            height: 300px;
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            animation: slideAnimation 6s linear infinite;
            width: 300px;
            /* 6s for 2s per slide, adjust as needed */
        }

        .carousel {
            margin: 0 auto;
            width: 50%;
            /* You can adjust the width as needed */
            max-height: 300px;
            /* You can adjust the height as needed */
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }

        .carousel-container {
            width: 70%;
            margin: 0 auto;
            overflow: hidden;
            position: relative;
        }

        .carousel-slide {
            display: flex;
            width: 300%;
            height: 300px;
            transition: transform 0.4s ease-in-out;
        }

        .carousel-slide div {
            flex: 0 0 33.33%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .carousel-slide img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .dropdown {
            position: relative;
            display: inline-block;
            /* border: 1px solid red; */
            width: 142px;
        }

        .dropbtn {
            background-color: #f1f1f1;
            color: #333;
            padding: 10px;
            font-size: 18px;
            border: none;
            cursor: pointer;
            /* border: 1px solid red; */
            width: 142px;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #fff;
            min-width: 120px;
            box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
            z-index: 1;
        }

        .dropdown-content a {
            color: #333;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            cursor: pointer;
        }

        .dropdown-content a:hover {
            background-color: #f9f9f9;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .dropdown:hover .dropbtn {
            background-color: rgb(110, 198, 183);
        }

        .dropbtn:hover {
            background-color: rgb(110, 198, 183);
            color: white;

        }

        .dropdown .dropbtn {
            position: relative;
            padding-right: 25px;
            /* Added padding for the icon */
        }

        .dropdown .dropdown-icon {
            position: absolute;
            top: 50%;
            right: 10px;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 5px 5px 0 5px;
            border-color: #333 transparent transparent transparent;
            transition: transform 0.2s ease-in-out;
        }

        .dropdown.open .dropdown-icon {
            transform: translateY(-50%) rotate(180deg);
        }

        #logout-link:hover {
            color: rgb(110, 198, 183);
        }

        .dropdown-content a {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            text-decoration: none;
            color: #333;
        }

        .dropdown-content a i {
            margin-right: 10px;
        }

        #pause-button {
            background: none;
            border: none;
            outline: none;
            position: relative;
            width: 30px;
            height: 30px;
            border-radius: 50%;
        }

        #pause-button i {
            font-size: 16px;
            color: #000;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        #pause-button .fas.fa-pause:before {
            content: "";
            position: absolute;
            top: 6px;
            left: 6px;
            width: 4px;
            height: 12px;
            background-color: #000;
        }

        #pause-button .fas.fa-pause:after {
            content: "";
            position: absolute;
            top: 6px;
            left: 14px;
            width: 4px;
            height: 12px;
            background-color: #000;
        }

        #add-button {
            padding: 10px 15px;
            background-color: #2196F3;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        #add-button i {
            margin-right: 5px;
        }

        .pause-button i {
            font-size: 12px;
            margin-right: 0px;

        }

        .nav-item.dropdown-item {
            display: flex;
            justify-content: space-between;
        }

        #container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            max-height: 400px;
            overflow: auto;
        }

        .interest-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        #container input[name="item-checkbox"] {
            margin-right: 5px;
        }

        #sub_container {
            display: flex;
            /* flex-direction: ; */
            gap: 10px;
        }

        #sub_container input[name="subitem-checkbox"] {
            margin-right: 5px;
        }

        #container h6,
        #sub_container h6 {
            margin: 5px 0;
            font-weight: bold;
        }

        /* CSS for Address Display */
        /* CSS for Address Display */
        .address-container {
            display: flex;
            flex-direction: column;
        }

        .address-div {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            padding: 10px;
            border-radius: 5px;
        }

        .address-div label {
            margin-bottom: 5px;
        }

        .address-div button {
            background-color: #007bff;
            color: #fff;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
        }

        .address-div input[type="radio"] {
            margin-right: 10px;
        }

        /* CSS for Address Display */
        .address-container {
            display: flex;
            flex-direction: column;
        }

        .address-div {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            padding: 10px;
            border-radius: 5px;
        }

        .address-div label {
            margin-bottom: 5px;
        }

        .address-div button {
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
        }

        .address-div button.edit-button {
            background-color: #007bff;
            color: #fff;
        }


        .address-div button.edit-button svg {
            margin-right: 5px;
        }

        .address-div button.delete-button {
            background-color: #f44336;
            color: #fff;
        }

        .address-div button.delete-button svg {
            margin-right: 5px;
        }

        .address-div {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid #ddd;
            padding: 10px;
            margin-bottom: 10px;
        }

        .button-container {
            display: flex;
            align-items: center;
        }

        .edit-button,
        .delete-button {
            background-color: transparent;
            border: none;
            cursor: pointer;
            font-size: 16px;
            color: #333;
            margin-left: 10px;
        }

        .edit-button:hover,
        .delete-button:hover {
            color: #007bff;
        }

        /* Style for the address container */
        .address-container {
            border: 1px solid #ccc;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 10px;
            background-color: #f9f9f9;
        }

        .address-container label {
            display: block;
            margin-bottom: 5px;
        }

        /* Style for the edit and delete buttons */
        .button-container {
            display: flex;
            justify-content: flex-end;
            margin-top: 10px;
        }

        .edit-button {
            border: none;
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            margin-right: 10px;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
        }

        .edit-button:hover {
            background-color: #0056b3;
        }

        .delete-button {
            border: none;
            background-color: #dc3545;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
        }

        .delete-button:hover {
            background-color: #c82333;
        }

        .address-div input[type="radio"] {
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-right: 10px;
        }

        .dropbtn.active {
            background-color: rgb(110, 198, 183);
        }

        #vendor-signup-btn {
            background-color: rgb(177, 43, 82);
            border: 1px solid black;
        }

        #corporate-signup-btn {
            background-color: rgb(177, 43, 82);
            border: 1px solid black;
        }
    </style>

    <script>
        async function fetchSubscriptions() {
            const userId = localStorage.getItem("loginId");
            const token = localStorage.getItem("access_token");

            try {
                const response = await fetch(`https://15.185.57.60/api/v1/subscription/get-user-subscription-lists/${userId}?fetchType=all`, {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });

                if (!response.ok) {
                    throw new Error('Failed to fetch subscriptions.');
                }

                const subscriptions = await response.json();
                const data = subscriptions.results.reverse()
                console.log(data);

                localStorage.setItem("subscriptionId", data[0].id)

                function calculateTotalMonths(data) {
                    return data.reduce((total, data) => total + data.totalMonths, 0);
                }

                function calculateEndDate(startDate, totalMonths) {
                    const dateObj = new Date(startDate);
                    dateObj.setMonth(dateObj.getMonth() + totalMonths);
                    dateObj.setDate(dateObj.getDate() - 1);
                    return formatDate(dateObj);
                }

                function formatDate(dateString) {
                    const dateObj = new Date(dateString);
                    const day = String(dateObj.getDate()).padStart(2, '0');
                    const month = String(dateObj.getMonth() + 1).padStart(2, '0');
                    const year = dateObj.getFullYear();
                    return `${day}/${month}/${year}`;
                }

                const totalMonths = calculateTotalMonths(data);
                const totalMonthsElement = document.getElementById('totalMonths');
                totalMonthsElement.textContent = totalMonths;

                const startDate = formatDate(data[0].startDate);
                const startDateElement = document.getElementById('startDate');
                startDateElement.textContent = startDate;

                const endDate = calculateEndDate(data[0].startDate, totalMonths);
                const endDateElement = document.getElementById('endDate');
                endDateElement.textContent = endDate;

                function updateDaysLeft() {
                    const nextBoxDate = data[0].nextBoxDate;
                    const currentDate = new Date();
                    const diffInTime = new Date(nextBoxDate) - currentDate;
                    const diffInDays = Math.ceil(diffInTime / (1000 * 60 * 60 * 24));
                    document.getElementById('daysLeft').textContent = `${diffInDays} Days`;
                }
                updateDaysLeft();
            } catch (error) {
                console.error('Error fetching subscriptions:', error);
            }
        }

        fetchSubscriptions();

        function openPauseModal() {
            const pauseModal = document.getElementById('pauseModal');
            pauseModal.style.display = 'block';
        }

        function closePauseModal() {
            const pauseModal = document.getElementById('pauseModal');
            pauseModal.style.display = 'none';
        }

        function pauseSubscription(duration) {
            console.log(`Paused subscription for ${duration} month(s)`);
        }

        const loginId = localStorage.getItem("loginId");
        const accessToken = localStorage.getItem("access_token");

        function mysteryBoxes() {
            fetch(`https://15.185.57.60/api/v1/users/users-mystery-boxes/${loginId}`, {
                method: "GET",
                headers: {

                    "Authorization": `Bearer ${accessToken}`,
                    "Content-Type": "application/json",
                }
            })
                .then(response => response.json())
                .then(data => {
                    console.log("mys", data);


                })
                .catch(error => {
                    console.error("Error fetching user mystery boxes data:", error);
                });
        }
        mysteryBoxes()


        // validation form gift box

        var giftFirstNameValidation = (event) => {
            const firstNameValue = event.target.value.trim();
            validFirstName = /^[A-Za-z]+$/;
            let firstNameErr = document.getElementById('first-name-err');



            let firstCharOfFirstName = firstNameValue.charAt(0)

            if (firstNameValue == "") {


                firstNameErr.innerHTML = "First Name is required";

            } else if (!validFirstName.test(firstNameValue)) {

                firstNameErr.innerHTML = "First Name must be only string without white spaces";
            }
            else if (firstCharOfFirstName !== firstCharOfFirstName.toUpperCase()) {
                firstNameErr.innerHTML = "First letter should be capital";

            }
            else {

                firstNameErr.innerHTML = "";
                return true;

            }

        }


        var giftLastNameValidation = function (event) {

            lastNameValue = event.target.value.trim();
            validLastName = /^[A-Za-z]+$/;
            let lastNameErr = document.getElementById('last-name-err');

            let firstCharOfLastName = lastNameValue.charAt(0)

            if (lastNameValue == "") {


                lastNameErr.innerHTML = "Last Name is required";

            } else if (!validLastName.test(lastNameValue)) {

                lastNameErr.innerHTML = "Last Name must be only string without white spaces";
            }
            else if (firstCharOfLastName !== firstCharOfLastName.toUpperCase()) {
                lastNameErr.innerHTML = "First letter should be capital";

            }
            else {

                lastNameErr.innerHTML = "";
                return true;

            }
        }




        var giftEmailValidation = (event) => {


            emailValue = event.target.value.trim();

            let validEmailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
            let emailErr = document.getElementById('email-err');


            if (emailValue.match(validEmailRegex)) {

                return true;

            } else {


                emailErr.innerHTML = "Invalid E-mail Address";



            }


        }



        var giftPhoneNumberValidation = (event) => {

            let mobileNumber = event.target.value.trim();
            let mobileNumberErr = document.getElementById('mobile-number-err')


            if (mobileNumber.length !== 8) {
                let mobileNumberErr = document.getElementById('mobile-number-err');

                // alert('Enter a valid mobile number');
                mobileNumberErr.innerHTML = "Invalid Phone Number";

                return;
            } else {
                mobileNumberErr.innerHTML = "";

                return true;
            }
        }


        // validation form gift box after submission of form



        document.addEventListener('DOMContentLoaded', function () {
            const form = document.getElementById('gift-box-register');
            const submitButton = document.getElementById('gift-box-pay');

            form.addEventListener('submit', function (event) {
                event.preventDefault();
                // Handle form submission logic here

                const firstName = document.getElementById('gift-acdetails-firstname').value;
                const lastName = document.getElementById('gift-acdetails-lastname').value;
                const email = document.getElementById('gift-acdetails-email').value;
                const mobileNumber = document.getElementById('gift-acdetails-mobile').value;

                const data = {
                    first_name: firstName,
                    last_name: lastName,
                    email: email,
                    mobile_number: mobileNumber,

                    country_code: '+91',

                };


                const terms = document.getElementById('gift-box-terms');
                let termsErr = document.getElementById('terms-err');

                if (!terms.checked) {

                    termsErr.innerHTML = 'Please accept the Terms and Conditions to proceed with the signup'
                    return;
                } else {
                    termsErr.innerHTML = ''
                    return true;

                }



            });
        });



        // validation form subscription regsiter


        var subscriptionFirstNameValidation = (event) => {
            const firstNameValue = event.target.value.trim();
            validFirstName = /^[A-Za-z]+$/;
            let firstNameErr = document.getElementById('subscription-first-name-err');



            let firstCharOfFirstName = firstNameValue.charAt(0)

            if (firstNameValue == "") {


                firstNameErr.innerHTML = "First Name is required";

            } else if (!validFirstName.test(firstNameValue)) {

                firstNameErr.innerHTML = "First Name must be only string without white spaces";
            }
            else if (firstCharOfFirstName !== firstCharOfFirstName.toUpperCase()) {
                firstNameErr.innerHTML = "First letter should be capital";

            }
            else {

                firstNameErr.innerHTML = "";
                return true;

            }

        }


        var subscriptionLastNameValidation = function (event) {

            lastNameValue = event.target.value.trim();
            validLastName = /^[A-Za-z]+$/;
            let lastNameErr = document.getElementById('subscription-last-name-err');

            let firstCharOfLastName = lastNameValue.charAt(0)

            if (lastNameValue == "") {


                lastNameErr.innerHTML = "Last Name is required";

            } else if (!validLastName.test(lastNameValue)) {

                lastNameErr.innerHTML = "Last Name must be only string without white spaces";
            }
            else if (firstCharOfLastName !== firstCharOfLastName.toUpperCase()) {
                lastNameErr.innerHTML = "First letter should be capital";

            }
            else {

                lastNameErr.innerHTML = "";
                return true;

            }
        }


        var subscriptionPhoneNumberValidation = (event) => {
            let mobileNumber = event.target.value.trim();
            let mobileNumberErr = document.getElementById('subscription-mobile-number-err')


            if (mobileNumber.length !== 8) {

                mobileNumberErr.innerHTML = "Invalid Phone Number";

                return;
            } else {
                mobileNumberErr.innerHTML = "";

                return true;
            }
        }

        // validation form subscription regsiter after form submission

        document.addEventListener('DOMContentLoaded', function () {
            const form = document.getElementById('subscription-register');
            const submitButton = document.getElementById('subscription-pay');

            form.addEventListener('submit', function (event) {
                event.preventDefault();
                // Handle form submission logic here

                const firstName = document.getElementById('subcription-acdetails-firstname').value;
                const lastName = document.getElementById('subcription-acdetails-lastname').value;
                const mobileNumber = document.getElementById('subcription-acdetails-mobile').value;

                const data = {
                    first_name: firstName,
                    last_name: lastName,

                    mobile_number: mobileNumber,

                    country_code: '+91',

                };

                const terms = document.getElementById('subscription-box-terms');
                if (!terms.checked) {
                    alert('Please accept the Terms and Conditions to proceed with the signup');
                    return;
                }



            });
        });



        // validation of date in profile page

        var acdetailsDisplayDob = (event) => {
            // console.log("hello", event.target.value)

            let dataStr = event.target.value;

            const inputDate = new Date(dataStr);
            const today = new Date();

            let acdetailsDisplayDobErr = document.getElementById('acdetailsDisplayDobErr')
            if (!isNaN(inputDate) && inputDate < today) {
                acdetailsDisplayDobErr.innerHTML = ''
                return true;
            }
            else {
                acdetailsDisplayDobErr.innerHTML = 'Invalid Date'





            }

            // Check if the input date is valid and is before today's date

        }


    </script>

</head>
<style>
    @media (max-width: 767px) {
        .logo-image {
            width: 200px;
            height: auto;
            align-items: center;
            margin-top: 7px;
        }

        #pauseModal {
            margin: auto;
            margin-left: -20px;
            /* width: 90%; */
        }

        .modal-content {

            width: 90%;
        }

        .button-text {
            display: none;
        }

        .pause-button-text {
            display: none;
        }

        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow-x: hidden;
        }

        .add-button {
            width: 60px;
            padding-top: 16px;
            margin-top: 20px;
        }

        .pause-button {
            width: 60px;
        }

        .subscription-div {
            width: 300px;
            margin: auto;
            height: auto;
            border-radius: 10px;
            display: flex;
            column-gap: 10px;
            flex-direction: column;
            box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
            padding: 10px 10px;
        }

        .add-pause-div {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 30px 20px;
            column-gap: 20px;
            width: 100px
        }

        .subscription-div1 {
            width: 300px;
        }

        .subscription-div2 {
            width: 300px;
        }

        .box-history-div {
            margin: auto;
            width: 340px;
            padding-top: 30px;
            margin-top: 20px;
            padding-left: 10px;
        }

        .gift-card {
            color: #111111;
            font-size: 10px;
            font-weight: 400;
            font-family: "Nunito Sans", sans-serif;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            border: 1px solid #dadada;
            width: 100%;
            box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
            height: 220px;
            margin-top: 10px;
            border-radius: 10px;
        }

        .gift-card .gift-card-top {
            width: 100%;
            padding-top: 20px;
            padding: 0px 20px;
            padding-top: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #dadada;
        }
    }

    @media (min-width: 768px) and (max-width: 991px) {
        .logo-image {
            width: 400px;
            height: auto;
        }

        .subscription-div {
            width: 420px;
            margin: auto;
            height: auto;
            border-radius: 10px;
            box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
            padding: 10px 10px;
            display: flex;
            column-gap: 10px;
        }

        .box-history-div {
            margin: auto;
            width: 440px;
            padding-top: 30px;
            margin-top: 20px;
            padding-left: 10px;
        }
    }

    @media (min-width: 992px) {
        .subscription-div {
            width: 420px;
            margin: auto;
            height: auto;
            border-radius: 10px;
            box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
            padding: 10px 10px;
            display: flex;
            column-gap: 10px;
        }

        .box-history-div {
            margin: auto;
            width: 440px;
            padding-top: 30px;
            margin-top: 20px;
            padding-left: 10px;
        }
    }

    .add-pause-div {
        width: 34%;
        padding-top: 15px;
        padding-bottom: 0;
    }

    .subscription-div2 {
        display: flex;
        column-gap: 10px;
        align-items: center;
        padding: 2px 10.5px;
    }

    input[type="number"]::-webkit-inner-spin-button,
    input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    input[type="number"] {
        appearance: textfield;
        /* Firefox */
    }

    .close {
        margin-top: -40px;
    }

    .month:hover {
        background-color: rgb(53, 183, 156);
        color: white;
    }

    .no-pause {
        background-color: rgb(163, 54, 75);
        color: white;
    }

    .yes-pause {
        background-color: rgb(53, 183, 156);
        color: white;
    }

    .modal-content {


        width: 100%;
    }

    .button-text {
        display: inline;
        margin-left: -20px;
    }

    .pause-button-text {
        display: inline;
    }

    .add-button {
        display: flex;
        align-items: center;
    }

    .pause-button {
        display: flex;
        align-items: center;
    }

    .add-anchor {
        border: 2px solid white;
        padding: 4px;
        border-radius: 100%;
        height: 22px;
        padding-top: 4px;
    }

    .pause-anchor {
        margin-left: 5px;
        border: 2px solid white;
        padding: 4px;
        height: 22px;
        border-radius: 50%;
        padding-top: 3.4px;
    }
</style>

<body>
    <!-- Page Preloder -->
    <div id="preloder">
        <div class="loader"></div>
    </div>

    <!-- Header Section Begin -->
    <header class="header">
        <div class="container">
            <div class="row" style="display: flex; justify-content: space-between;">
                <div class="col-lg-3 col-md-3">
                    <div class="header__logo">
                        <a href="./index.html"><img class="logo-image" src="img/Mbayat-Final-Logo (1).png" alt=""
                                style="margin-top: 10px;"></a>
                    </div>
                </div>

                <div style="display: flex; ">
                    <div class="header__nav__option" id="accountname" style="text-align: center; padding-top: 36px;">

                    </div>
                    <div class="header__nav__option" id="accountname" style="text-align: center;">
                        <div class="dropdown">
                            <button class="dropbtn">
                                <i class="fas fa-user"></i>&nbsp; &nbsp;
                                Account
                                <i class="dropdown-icon  "></i>
                            </button>
                            <div class="dropdown-content">
                                <a id="logout-link"
                                    style="font-size: 15px; border-bottom: 1px solid gray; border-radius: 0px;"
                                    class="nav-link" id="account-orders-tab" data-toggle="tab" href="#account-orders"
                                    role="tab" aria-controls="account-orders" aria-selected="false"><i
                                        class="fas fa-shopping-bag"></i>&nbsp; &nbsp;My
                                    Orders</a>
                                <!-- <a id="logout-link"
                                    style="font-size: 15px; border-bottom: 1px solid gray;border-radius: 0px;"
                                    class="nav-link" id="account-address-tab" data-toggle="tab" href="#account-address"
                                    role="tab" aria-controls="account-address" aria-selected="false"><i
                                        class="fas fa-address-card"></i>&nbsp;
                                    &nbsp;Address</a> -->
                                <a id="logout-link"
                                    style="font-size: 15px; border-bottom: 1px solid gray;border-radius: 0px;"
                                    class="nav-link" id="account-address-tab" data-toggle="tab" href="#account-wishlist"
                                    role="tab" aria-controls="account-address" aria-selected="false"><i
                                        class="fas fa-heart"></i>&nbsp; &nbsp;Wishlist</a>
                                <a id="logout-link" onclick="return handleLogout(event);"
                                    style="font-size: 15px; border-radius: 0px;"><i
                                        class="fas fa-sign-out-alt"></i>&nbsp; &nbsp;Logout</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="canvas__open"><i class="fa fa-bars"></i></div>
        </div>
    </header>

    <!-- Main Content -->
    <!-- Main Content -->
    <main class="main-content" style="margin-top: 10px;">
        <!-- My Account Area -->
        <div class="tm-section tm-my-account-area bg-white tm-padding-section">
            <div class="container">
                <div class="tm-myaccount">
                    <ul style="margin-bottom: 50px;"
                        class="nav tm-tabgroup justify-content-start justify-content-lg-center" id="account"
                        role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active nav-button" id="account-dashboard-tab" data-toggle="tab"
                                href="#account-dashboard" role="tab" aria-controls="account-dashboard"
                                aria-selected="true"><i class="fas fa-chart-line"></i>&nbsp; &nbsp;Dashboard</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link nav-button" id="account-acdetails-tab" data-toggle="tab"
                                href="#account-acdetails" role="tab" aria-controls="account-acdetails"
                                aria-selected="false"><i class="fas fa-user-circle"></i>&nbsp; &nbsp;Profile</a>
                        </li>
                        <div class="dropdown" style="margin-top: 8.7px; width: 210px; margin-left: 10px; ">
                            <button class="dropbtn" style="height: 50px; font-weight: bold; width: 210px">
                                <i class="fas fa-gift"></i>&nbsp; &nbsp;
                                Gifts
                                <i class="dropdown-icon  "></i>
                            </button>
                            <div class="dropdown-content" style="width: 210px">
                                <a id="logout-link"
                                    style="font-size: 15px; border-bottom: 1px solid gray; border-radius: 0px;"
                                    class="nav-link" id="account-orders-tab" data-toggle="tab" href="#account-box"
                                    role="tab" aria-controls="account-orders" aria-selected="false"><i
                                        class="fas fa-box"></i>&nbsp;Gift a Box</a>
                                <a id="logout-link"
                                    style="font-size: 15px; border-bottom: 1px solid gray; border-radius: 0px;"
                                    class="nav-link" id="account-orders-tab" data-toggle="tab" href="#gift-History"
                                    role="tab" aria-controls="account-orders" aria-selected="false"><i
                                        class="fas fa-history"></i>&nbsp; Gift Box History</a>
                                <a id="logout-link"
                                    style="font-size: 15px; border-bottom: 1px solid gray;border-radius: 0px;"
                                    class="nav-link" id="account-address-tab" data-toggle="tab"
                                    href="#account-Subscription" role="tab" aria-controls="account-address"
                                    aria-selected="false"><i class="fas fa-hand-holding-usd"></i>&nbsp;Gift a
                                    subscription</a>
                                <a id="logout-link"
                                    style="font-size: 15px; border-bottom: 1px solid gray;border-radius: 0px;"
                                    class="nav-link" id="account-address-tab" data-toggle="tab"
                                    href="#account-Subscription-History" role="tab" aria-controls="account-address"
                                    aria-selected="false"><i class="fas fa-history"></i>&nbsp;
                                    Subscription History</a>
                            </div>
                        </div>
                    </ul>
                    <div class="tab-content" id="account-ontent">
                        <div class="tab-pane fade show active" id="account-dashboard" role="tabpanel"
                            aria-labelledby="account-dashboard-tab">
                            <div style=" display: flex; justify-content: space-between; flex-direction: column;">
                                <div class="subscription-div">
                                    <div class="subscription-div1">
                                        <div class="subscription-div2">
                                            <span style="display: flex;align-items: center; gap: 10px;">
                                                <h5 style="margin: auto;">Months</h5>
                                                <h5 id="totalMonths"
                                                    style="margin: auto; text-align: center; font-weight: 500;">
                                                </h5>
                                            </span>
                                            <div style="border: 0.1px solid black; height :70px; "></div>
                                            <span>
                                                <p style="margin: auto;font-weight: bold;">Active Subscribtion</p>
                                                <div style="display: flex;">
                                                    <p id="startDate" style="margin: auto; text-align: center;"></p>-
                                                    <p id="endDate" style="margin: auto; text-align: center;"></p>
                                                </div>
                                            </span>
                                        </div>
                                        <div
                                            style="margin-top: 10px; display:flex;align-items: center;justify-content: center; width: 65%; column-gap: 10px; align-items: center;padding:2px 11px;">
                                            <span>
                                                <h6 style="margin: auto;">Next Box</h6>
                                            </span>
                                            <div style="border: 0.1px solid black; height :25px; "></div>
                                            <span>
                                                <h6 id="daysLeft" style="margin: auto; text-align: center;"></h6>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="add-pause-div">
                                        <button class="add-button">
                                            <a href="subscription.html" style="text-decoration: none; color: white"><i
                                                    class="fas fa-plus add-anchor"></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                <span class="button-text">Add</span></a>
                                        </button>
                                        <button class="pause-button" onclick="openPauseModal()">
                                            <i class="fas fa-pause pause-anchor"></i>
                                            <span class="pause-button-text">Pause</span>
                                        </button>
                                    </div>
                                </div>
                                <!-- Pause Modal -->

                                <div class="box-history-div">
                                    <div
                                        style="color: white;width: auto; height: 35px; display: flex; align-items: center; background-color: rgb(73,197,182); border-radius: 3px; justify-content: space-between; padding: 10px 7px;">
                                        <h6 style="color: white; font-weight: bold; margin-top: 10px;">Box History
                                        </h6>
                                        <div
                                            style="color: white;display: flex; align-items: center; padding: 15px; column-gap: 10px; ">
                                            <p style="color: white;margin-top: 15px;"></p> <!--Last received-->
                                            <div style="border: 1px solid white; height: 25px;"></div>
                                            <p style="color: white;margin-top: 15px;"></p> <!--15 July-->
                                        </div>
                                    </div>
                                    <!-- <img src="img/Group 1000001287.png"
                                        style="margin: auto; display: block; margin-top: 10px;" /> -->
                                    <div
                                        style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px; height: 250px; margin-top: 10px; border-radius: 10px;display: flex; justify-content: center; align-items: center;">
                                        <p style="margin: auto; width: 50%; text-align: center; ">Mystery Box coming...
                                        </p>
                                    </div>
                                    <!-- <div
                                        style="margin: auto; width: auto ; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px; border-radius: 10px; margin-top: 5px;">
                                        <p style="margin: auto;padding: 5px 17px; width: 40%;">July 2023</p>
                                    </div> -->
                                </div>
                                <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel"
                                    data-interval="2000"
                                    style="margin: auto; margin-top: 30px ; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px; width: 430px;">
                                    <div class="carousel-inner">
                                        <div class="carousel-item active">
                                            <h5>Comming soon...</h5>
                                            <img src="img/Group 1000001237.svg" alt="Slide 1"
                                                style="width: 400px;height: 200px; padding: 50px;">
                                        </div>
                                        <div class="carousel-item">
                                            <h5>Comming soon...</h5>
                                            <img src="img/Group 1000001237.svg" alt="Slide 2"
                                                style="width: 400px;height: 200px;  padding: 50px;">
                                        </div>
                                        <div class="carousel-item">
                                            <h5>Comming soon...</h5>
                                            <img src="img/Group 1000001237.svg" alt="Slide 3"
                                                style="width: 400px;height: 200px;  padding: 50px;">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="pauseModal" class="modal">
                                <div class="modal-content">
                                    <div>
                                        <h4>Pause Subscription</h4>
                                        <span class="close" onclick="closePauseModal()">&times;</span>
                                    </div>
                                    <p>Select the duration you want to pause your subscription:</p>
                                    <div>
                                        <button class="month" onclick="pauseSubscription(1)">1 Month</button>
                                        <button class="month" onclick="pauseSubscription(2)">2 Months</button>
                                        <button class="month" onclick="pauseSubscription(3)">3 Months</button>
                                    </div>
                                    <div style="margin-top: 20px;">
                                        <button class="no-pause" onclick="closePauseModal()">No</button>
                                        <button class="yes-pause" onclick="closePauseModal()">Yes</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="account-orders" role="tabpanel"
                            aria-labelledby="account-orders-tab">


                            <div class="tm-myaccount-orders">

                                <div
                                    style="margin: auto;margin-top: -25px ;margin-bottom: 20px; background-color: rgb(110,198,183); width: 18%; padding: 10px;  border-radius: 10px; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">
                                    <h5 style="color: white; font-weight: 600; margin: auto; text-align: center; "> My
                                        Account</h5>
                                </div>

                                <div class="table-responsive">
                                    <table class="table table-bordered mb-0">
                                        <thead>
                                            <tr>
                                                <th class="tm-myaccount-orders-col-id">ORDER ID</th>
                                                <th class="tm-myaccount-orders-col-date">PRODUCT</th>
                                                <th class="tm-myaccount-orders-col-status">STATUS</th>
                                                <th class="tm-myaccount-orders-col-total">AMOUNT</th>
                                                <th class="tm-myaccount-orders-col-view">VIEW</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>#12345</td>
                                                <td>Bycycle</td>
                                                <td>On Hold</td>
                                                <td>132.00 KD</td>
                                                <td><a href="checkout.html" class="tm-button tm-button-sm">View
                                                        <b></b></a></td>
                                            </tr>
                                            <tr>
                                                <td>#12346</td>
                                                <td>Bycycle</td>

                                                <td>On Hold</td>
                                                <td>132.00 KD</td>
                                                <td><a href="checkout.html" class="tm-button tm-button-sm">View
                                                        <b></b></a></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="account-address" role="tabpanel"
                            aria-labelledby="account-address-tab">
                            <div class="tm-myaccount-address">
                                <p><b>The following addresses will be used on the checkout page by default.</b></p>
                                <div class="row">
                                    <div class="col-lg-6 col-md-6">
                                        <div class="tm-myaccount-address-billing">
                                            <a href="#" class="edit-button">Edit</a>
                                            <h3>Billing Address</h3>
                                            <address>
                                                Jonathon Doe<br>
                                                Example company<br>
                                                516 Wintheiser Circles <br>
                                                Lake Jordanmouth <br>
                                                Jordan
                                            </address>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 mt-30 mt-md-0">
                                        <div class="tm-myaccount-address-shipping">
                                            <a href="#" class="edit-button">Edit</a>
                                            <h3>Shipping Address</h3>
                                            <address>
                                                Jonathon Doe<br>
                                                Example company<br>
                                                516 Wintheiser Circles <br>
                                                Lake Jordanmouth <br>
                                                Jordan
                                            </address>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="account-acdetails" role="tabpanel"
                            aria-labelledby="account-acdetails-tab">
                            <div class="row">
                                <div class="col-12">
                                    <div class="tm-myaccount-acdetails">

                                        <form action="#" class="tm-form tm-form-bordered">
                                            <div
                                                style="width: 100%; display: flex;align-items: center;justify-content: flex-end;">


                                                <button type="button" onclick="openEditProfileModal()"
                                                    style="height: 40px; font-weight: bold; background-color: rgb(177,43,82); border-radius:10px; color: white;">
                                                    <i class="fas fa-edit" style="margin-right: 10px;"></i><span>Edit
                                                        Profile</span></button>
                                            </div>

                                            <div class="tm-form-inner">
                                                <div class="tm-form-field tm-form-fieldhalf">
                                                    <label for="acdetails-firstname">First name</label>
                                                    <input type="text" id="acdetails-firstname" readonly>
                                                </div>
                                                <div class="tm-form-field tm-form-fieldhalf">
                                                    <label for="acdetails-lastname">Last name</label>
                                                    <input type="text" id="acdetails-lastname" readonly>
                                                </div>
                                                <div class="tm-form-field tm-form-fieldhalf">
                                                    <label for="acdetails-email">Email address</label>
                                                    <input type="email" id="acdetails-email" readonly>
                                                </div>


                                                <div class="tm-form-field col-lg-6 col-md-6 col-12">
                                                    <label for="acdetails-password">Mobile Number</label>
                                                    <div style="display: flex">
                                                        <div
                                                            style="display: flex;border: 1px solid rgb(211, 209, 209);width: 110px ; margin-right: 10px;padding-left: 5px; padding-right: 5px; padding-top: 15px; column-gap: 4px;">
                                                            <img src="img/Frame.png" alt=""
                                                                style="width: 30px; height: 20px; margin-right: 5px;">
                                                            <span style="font-size: 13px">+965</span>
                                                        </div>
                                                        <input type="number" id="acdetails-password" required="required"
                                                            maxlength="8" readonly>
                                                    </div>

                                                </div>


                                                <div class="tm-form-field tm-form-fieldhalf">
                                                    <label for="acdetails-displayname">Date of Birth</label>
                                                    <input type="date" id="acdetails-displayname"
                                                        onchange="acdetailsDisplayDob(event)" readonly>

                                                    <div>
                                                        <p id="acdetailsDisplayDobErr" style="color: red;"></p>
                                                    </div>
                                                </div>
                                                <div class="tm-form-field tm-form-fieldhalf">
                                                    <label for="acdetails-gender">Gender</label>
                                                    <select class="dropdown-toggle" readonly name="Gender"
                                                        id="acdetails-gender"
                                                        style="appearance: none; -webkit-appearance: none; -moz-appearance: none; background-image: url('down-arrow.png'); background-repeat: no-repeat; background-position: right center;">
                                                        <option>Select gender</option>
                                                        <option value="Male">Male</option>
                                                        <option value="Female">Female</option>
                                                    </select>
                                                </div>
                                                <div class="tm-form-field col-lg-12 col-md-12 col-12">

                                                    <h6>Please select 5 Interests</h6>
                                                    <div id="fraction-component"></div>

                                                    <div class="check-box_flex" id="notEditableContainer">
                                                    </div>
                                                </div>
                                                <div class="tm-form-field col-lg-12 col-md-12 col-12">
                                                    <h6>Please select Sub-Interests</h6>
                                                    <div class="check-box_flex" id="notEditableSubContainer">

                                                    </div>
                                                </div>



                                                <div class="tm-form-field col-lg-12 col-md-12 col-12">

                                                    <div class="address_container" id="address_container">
                                                        <h6>Shipping Address</h6>

                                                        <h6 id="current_shipping_address_container">



                                                        </h6>
                                             <h6 id="current_shipping_address_container"></h6>


                                                    </div>
                                                </div>


                                            </div>
                                        </form>



                                        <!-- here the profile editable modal -->
                                        <div id="editProfileModal" class="modal"
                                            style="width: 80%; margin: auto; top: 3%; height: 600px;overflow: auto;">

                                            <div class="modal-content" style="padding: 20px;">

                                                <div style="display: flex; justify-content: space-between;">
                                                    <h2>Edit Profile</h2>
                                                </div>

                                                <form action="#" id="editProfileForm" class="tm-form tm-form-bordered">

                                                    <div class="tm-form-inner">
                                                        <div class="tm-form-field tm-form-fieldhalf">
                                                            <label for="editable-acdetails-firstname">First name</label>
                                                            <input type="text" id="editable-acdetails-firstname">
                                                        </div>
                                                        <div class="tm-form-field tm-form-fieldhalf">
                                                            <label for="editable-acdetails-lastname">Last name</label>
                                                            <input type="text" id="editable-acdetails-lastname">
                                                        </div>
                                                        <div class="tm-form-field tm-form-fieldhalf">
                                                            <label for="editable-acdetails-email">Email address</label>
                                                            <input type="email" id="editable-acdetails-email" readonly>
                                                        </div>

                                                        <div class="tm-form-field col-lg-6 col-md-6 col-12">
                                                            <label for="editable-acdetails-password">Mobile
                                                                Number</label>
                                                            <div style="display: flex">
                                                                <div
                                                                    style="display: flex;border: 1px solid rgb(211, 209, 209);width: 110px ; margin-right: 10px;padding-left: 5px; padding-right: 5px; padding-top: 15px; column-gap: 4px;">
                                                                    <img src="img/Frame.png" alt=""
                                                                        style="width: 30px; height: 20px; margin-right: 5px;">
                                                                    <span style="font-size: 13px">+965</span>
                                                                </div>
                                                                <input type="number" id="editable-acdetails-password"
                                                                    required="required" maxlength="8" readonly>
                                                            </div>

                                                        </div>


                                                        <div class="tm-form-field tm-form-fieldhalf">
                                                            <label for="editable-acdetails-displayname">Date of
                                                                Birth</label>
                                                            <input type="date" id="editable-acdetails-displayname"
                                                                onchange="acdetailsDisplayDob(event)">

                                                            <div>
                                                                <p id="acdetailsDisplayDobErr" style="color: red;"></p>
                                                            </div>
                                                        </div>
                                                        <div class="tm-form-field tm-form-fieldhalf">
                                                            <label for="editable-acdetails-gender">Gender</label>
                                                            <select class="dropdown-toggle" name="Gender"
                                                                id="editable-acdetails-gender"
                                                                style="appearance: none; -webkit-appearance: none; -moz-appearance: none; background-image: url('down-arrow.png'); background-repeat: no-repeat; background-position: right center;">
                                                                <option>Select gender</option>
                                                                <option value="Male">Male</option>
                                                                <option value="Female">Female</option>
                                                            </select>
                                                        </div>
                                                        <div class="tm-form-field col-lg-12 col-md-12 col-12">
                                                            <!-- <div> -->
                                                            <h6>Please select 5 Interests</h6>
                                                            <div id="fraction-component"></div>
                                                            <!-- </div> -->
                                                            <div class="check-box_flex" id="container">
                                                            </div>
                                                        </div>


                                                        <div class="tm-form-field col-lg-12 col-md-12 col-12">
                                                            <h6>Please select Sub-Interests</h6>
                                                            <div class="check-box_flex" id="sub_container">

                                                            </div>
                                                        </div>



                                                        <div class="tm-form-field tm-form-fieldhalf">
                                                            <button type="button" onclick="openAddAddressModal()"
                                                                style="height: 40px; font-weight: bold; background-color: rgb(177,43,82); border-radius:10px; color: white;">
                                                                <i class="fas fa-plus"
                                                                    style="margin-right: 10px;"></i><span>Add
                                                                    Address</span></button>
                                                        </div>
                                                        <div class="tm-form-field col-lg-12 col-md-12 col-12">
                                                            <div class="editable_address_container"
                                                                id="editable_address_container">

                                                            </div>
                                                        </div>

                                                        <div class="tm-form-field" style="margin-top: 80px;">




                                                            <button id="editProfileSubmit" type="submit"
                                                                onclick="closeAddAddressModal()"
                                                                style=" margin-left: 10px; border: none; padding:0px 30px; height: 40px; font-weight: bold; background-color: rgb(177,43,82);  font-size: 15px; border-radius:10px; color: white;">
                                                                <span style="text-align: center; ">Save Changes</span>
                                                            </button>


                                                            <button type="button" class="tm-button"
                                                                onclick="closeEditProfileModal()"
                                                                style=" margin-left: 10px; border: none; padding:0px 30px; height: 40px; font-weight: bold; background-color: rgb(177,43,82);  font-size: 15px; border-radius:10px; color: white;">
                                                                <span style="text-align: center; ">Cancel</span>
                                                            </button>



                                                        </div>


                                                    </div>
                                                </form>

                                            </div>

                                        </div>


                                                  </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>

                                        <div id="addAddressModal" class="modal"
                                            style="width: 80%; margin: auto; top: 3%; height: 600px;overflow: auto;">
                                            <div class="modal-content" style="padding: 20px;">
                                                <div style="display: flex; justify-content: space-between;">
                                                    <h2>Add New Address</h2>
                                                    <span class="close" onclick="closeAddAddressModal()">&times;</span>
                                                </div>
                                                <form id="addAddressForm">
                                                    <!-- Add address form fields -->
                                                    <div>
                                                        <div class="tm-form-fieldhalf" style="width: 45%;">
                                                            <label for="addressName">Address Name <span
                                                                    style="color:red">*</span></label><br />
                                                            <input type="text" id="addressName" value="" required />
                                                        </div>
                                                        <div class="tm-form-fieldhalf" style="width: 45%;">
                                                            <label for="country">Country <span
                                                                    style="color:red">*</span></label><br />
                                                            <input type="text" id="country" value="Kuwait" disabled />
                                                        </div>

                                                    </div>
                                                    <div
                                                        style="display: flex; justify-content: space-between; width: 45%; column-gap: 40px;">
                                                        <div class="tm-form-field" style="width: 45%;">
                                                            <label for="state">State <span
                                                                    style="color:red">*</span></label>
                                                            <select id="state" onchange="populateAreas2(event)"
                                                                required>
                                                                <option value="">Select State </option>
                                                                <option value="Al Asimah">Al Asimah</option>
                                                                <option value="Farwaniya">Farwaniya</option>
                                                                <option value="Hawalli">Hawalli</option>
                                                                <option value="Ahmadi">Ahmadi</option>
                                                                <option value="Mubarak Alkabeer">Mubarak Alkabeer
                                                                </option>
                                                                <option value="Jahra">Jahra</option>
                                                            </select>
                                                        </div>
                                                        <div class="tm-form-field" style="width: 45%;">
                                                            <label for="area">Area <span
                                                                    style="color:red">*</span></label>
                                                            <select id="area" required>
                                                                <option value="">Select Area</option>




                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div
                                                        style="display: flex; justify-content: space-between; width: 45%; column-gap: 40px;">
                                                        <div class="tm-form-field">
                                                            <label for="block">Block <span
                                                                    style="color:red">*</span></label><br />
                                                            <input type="text" id="block" value="" required />
                                                        </div>
                                                        <div class="tm-form-field">
                                                            <label for="street">Street <span
                                                                    style="color:red">*</span></label><br />
                                                            <input type="text" id="street" value="" required />
                                                        </div>
                                                    </div>
                                                    <div
                                                        style="display: flex; justify-content: space-between; width: 45%; column-gap: 40px;">
                                                        <div class="tm-form-field">
                                                            <label for="houseNo">House No <span
                                                                    style="color:red">*</span></label><br />
                                                            <input type="text" id="houseNo" value="" required />
                                                        </div>
                                                        <div class="tm-form-field">
                                                            <label for="apartment">Apartment</label><br />
                                                            <input type="text" id="apartment" value="" />
                                                        </div>
                                                    </div>
                                                    <div
                                                        style="display: flex; justify-content: space-between; width: 45%; column-gap: 40px;">
                                                        <div class="tm-form-field">
                                                            <label for="floor">Floor</label><br />
                                                            <input type="text" id="floor" value="" />
                                                        </div>
                                                        <div class="tm-form-field">
                                                            <label for="avenue">Avenue</label><br />
                                                            <input type="text" id="avenue" value="" />
                                                        </div>
                                                    </div>
                                                    <div class="tm-form-field" style="width: 45%;">
                                                        <label for="direction">Direction</label><br />
                                                        <input type="text" id="direction" value="" />
                                                    </div>

                                                    <div class="tm-form-field" style="margin-top: 80px;">




                                                        <button id="addNewAddressSubmit" type="submit" class="tm-button"
                                                            style=" border: none; padding:0px 20px; height: 40px; font-weight: bold; background-color: rgb(177,43,82);  font-size: 15px; border-radius:10px; color: white;">
                                                            <i class="fas fa-plus" style="margin-right: 7px;"></i> <span
                                                                style="text-align: center; ">Add Address</span>
                                                        </button>


                                                        <button type="button" class="tm-button"
                                                            onclick="closeAddAddressModal()"
                                                            style=" margin-left: 10px; border: none; padding:0px 30px; height: 40px; font-weight: bold; background-color: rgb(177,43,82);  font-size: 15px; border-radius:10px; color: white;">
                                                            <span style="text-align: center; ">Cancel</span>
                                                        </button>


                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                          <div id="editAddressModal" class="modal"
                                            style="width: 80%; margin: auto; top: 3%; height: 600px;overflow: auto;">
                                            <div class="modal-content" style="padding: 20px;">
                                                <div style="display: flex; justify-content: space-between;">
                                                    <h2>Edit Address</h2>
                                                    <span class="close" onclick="closeEditAddressModal()">&times;</span>
                                                </div>
                                                <form id="editAddressForm">
                                                    <!-- Add address form fields -->

                                                    <div class="tm-form-field" style="width: 45%;">
                                                        <label for="editAddressName">Address Name <span
                                                                style="color:red">*</span></label><br />
                                                        <input type="text" id="editAddressName" value="" required />
                                                    </div>
                                                    <div class="tm-form-field" style="width: 45%;">
                                                        <label for="editAddressCountry">Country <span
                                                                style="color:red">*</span></label><br />
                                                        <input type="text" id="editAddressCountry" value="Kuwait"
                                                            disabled />
                                                    </div>
                                                    <div
                                                        style="display: flex; justify-content: space-between; width: 45%; column-gap: 40px;">
                                                        <div class="tm-form-field" style="width: 45%;">
                                                            <label for="editAddressState">State <span
                                                                    style="color:red">*</span></label>

                                                            <select id="editAddressState"
                                                                onchange="populateAreas(event)" required>
                                                                <option value="">Select State</option>
                                                                <option value="Al Asimah">Al Asimah</option>
                                                                <option value="Farwaniya">Farwaniya</option>
                                                                <option value="Hawalli">Hawalli</option>
                                                                <option value="Ahmadi">Ahmadi</option>
                                                                <option value="Mubarak Alkabeer">Mubarak Alkabeer
                                                                </option>
                                                                <option value="Jahra">Jahra</option>
                                                            </select>
                                                        </div>
                                                        <div class="tm-form-field" style="width: 45%;">
                                                            <label for="editAddressArea">Area <span
                                                                    style="color:red">*</span></label>
                                                            <select id="editAddressArea" required>
                                                                <option value="">Select Area</option>
                                                            </select>

                                                        </div>
                                                    </div>


                                                    <div
                                                        style="display: flex; justify-content: space-between; width: 45%; column-gap: 40px;">
                                                        <div class="tm-form-field">
                                                            <label for="editAddressBlock">Block <span
                                                                    style="color:red">*</span></label><br />
                                                            <input type="text" id="editAddressBlock" value=""
                                                                required />
                                                        </div>
                                                        <div class="tm-form-field">
                                                            <label for="editAddressStreet">Street <span
                                                                    style="color:red">*</span></label><br />
                                                            <input type="text" id="editAddressStreet" value=""
                                                                required />
                                                        </div>
                                                    </div>
                                                    <div
                                                        style="display: flex; justify-content: space-between; width: 45%; column-gap: 40px;">
                                                        <div class="tm-form-field">
                                                            <label for="country">House No <span
                                                                    style="color:red">*</span></label><br />
                                                            <input type="text" id="editAddressHouseNo" value=""
                                                                required />
                                                        </div>
                                                        <div class="tm-form-field">
                                                            <label for="editAddressApartment">Apartment</label><br />
                                                            <input type="text" id="editAddressApartment" value="" />
                                                        </div>
                                                    </div>
                                                    <div
                                                        style="display: flex; justify-content: space-between; width: 45%; column-gap: 40px;">
                                                        <div class="tm-form-field">
                                                            <label for="editAddressFloor">Floor</label><br />
                                                            <input type="text" id="editAddressFloor" value="" />
                                                        </div>
                                                        <div class="tm-form-field">
                                                            <label for="editAddressAvenue">Avenue</label><br />
                                                            <input type="text" id="editAddressAvenue" value="" />
                                                        </div>
                                                    </div>
                                                    <div class="tm-form-field" style="width: 45%;">
                                                        <label for="editAddressDirection">Direction</label><br />
                                                        <input type="text" id="editAddressDirection" value="" />
                                                    </div>
                                                    <div class="tm-form-field" style="margin-top: 30px;">
                                                        <button id="editNewAddressSubmit" type="submit"
                                                            class="tm-button"
                                                            style=" padding-bottom: 10px; 
                                                          height: 40px; font-weight: bold; background-color: #b12b52; border: none;">Update</button>
                                                        <button type="button" class="tm-button"
                                                            onclick="closeEditAddressModal()"
                                                            style="
                                                            height: 40px; font-weight: bold; background-color: #b12b52; border: none;">Cancel</button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="tab-pane fade" id="gift-acdetails" role="tabpanel"
                            aria-labelledby="account-acdetails-tab">
                            <h1>Gift</h1>
                        </div>

                        <div class="tab-pane fade" id="account-wishlist" role="tabpanel"
                            aria-labelledby="account-acdetails-tab">
                            <div
                                style="margin: auto;margin-top: -25px ;margin-bottom: 20px; background-color: rgb(110,198,183); width: 30%; padding: 10px;  border-radius: 10px; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">
                                <h4 style="color: white; font-weight: 600; margin: auto; text-align: center; ">Wishlist
                                </h4>
                            </div>
                        </div>

                        <div class="tab-pane fade" id="account-box" role="tabpanel"
                            aria-labelledby="account-acdetails-tab">
                            <div
                                style=" font-family: Nunito Sans, sans-serif; margin: auto;margin-top: -25px ;margin-bottom: 20px; background-color: rgb(110,198,183); width: 15%; padding: 10px;  border-radius: 10px; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">
                                <h4 style="color: white; font-weight: 600; margin: auto; text-align: center; ">Gift
                                    a box</h4>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <div class="tm-myaccount-acdetails">
                                        <form id="gift-box-register" action="#" class="tm-form tm-form-bordered">
                                            <div class="tm-form-inner">
                                                <div class="tm-form-field tm-form-fieldhalf">
                                                    <label for="gift-acdetails-firstname">First name</label>
                                                    <input type="text" id="gift-acdetails-firstname"
                                                        onchange="giftFirstNameValidation(event)" required="required">
                                                    <div>
                                                        <p id="first-name-err" style="color: red;"></p>
                                                    </div>
                                                </div>
                                                <div class="tm-form-field tm-form-fieldhalf">
                                                    <label for="gift-acdetails-lastname">Last name</label>
                                                    <input type="text" onchange="giftLastNameValidation(event)"
                                                        id="gift-acdetails-lastname" required="required">
                                                    <div>
                                                        <p id="last-name-err" style="color: red;"></p>
                                                    </div>
                                                </div>
                                                <div class="tm-form-field tm-form-fieldhalf">
                                                    <label for="gift-acdetails-email">Email address</label>
                                                    <input type="email" onchange="giftEmailValidation(event)"
                                                        id="gift-acdetails-email" required="required">

                                                    <div>
                                                        <p id="email-err" style="color: red;"></p>
                                                    </div>
                                                </div>
                                                <div class="tm-form-field col-lg-6 col-md-6 col-12">
                                                    <label for="gift-acdetails-mobile">Phone Number</label>
                                                    <div style="display: flex">
                                                        <div
                                                            style="display: flex;border: 1px solid rgb(211, 209, 209);width: 110px ; margin-right: 10px;padding-left: 5px; padding-right: 5px; padding-top: 15px; column-gap: 4px;">
                                                            <img src="img/Frame.png" alt=""
                                                                style="width: 30px; height: 20px; margin-right: 5px;">
                                                            <span style="font-size: 13px">+965</span>
                                                        </div>
                                                        <input type="number" id="gift-acdetails-mobile"
                                                            onchange="giftPhoneNumberValidation(event)"
                                                            required="required" maxlength="8">
                                                    </div>
                                                    <div>
                                                        <p id="mobile-number-err" style="color: red;"></p>
                                                    </div>
                                                </div>



                                                <div class="tm-form-field tm-form-fieldhalf ">

                                                    <label for="gift-box-gender">Gender</label>
                                                    <select class="dropdown-toggle" id="gift-box-gender" onchange=""
                                                        style="appearance: none; -webkit-appearance: none; -moz-appearance: none; background-image: url('down-arrow.png'); background-repeat: no-repeat; background-position: right center;">
                                                        <option value="">Gender</option>
                                                        <option value="Male">Male</option>
                                                        <option value="Female">Female</option>

                                                    </select>

                                                </div>

                                                <div class="tm-form-field tm-form-fieldhalf">
                                                    <label for="gift-acdetails-note">Note</label>
                                                    <textarea type="text" id="gift-acdetails-note"></textarea>
                                                </div>

                                                <div class="tm-form-field col-lg-12 col-md-12 col-12">
                                                    <h6>Please select 5 Interests</h6>
                                                    <div id="fraction-component"></div>
                                                    <div class="check-box_flex" id="container">
                                                    </div>
                                                </div>
                                                <div class="tm-form-field col-lg-12 col-md-12 col-12">
                                                    <h6>Please select Sub-Interests</h6>
                                                    <div class="check-box_flex" id="sub_container">

                                                    </div>
                                                </div>
                                                <div class="tm-form-field tm-form-fieldhalf">
                                                    <button style="font-size: 15px;" type="button" class="tm-button"
                                                        onclick="openAddAddressModal()"> <i class="fas fa-plus"
                                                            style="margin-right: 15px;height: 15px;"></i>
                                                        Add Address
                                                    </button>
                                                </div>
                                                <div class="tm-form-field col-lg-12 col-md-12 col-12">
                                                    <div class="address_container" id="address_container">

                                                    </div>
                                                </div>

                                                <div clsas="tm-form-field tm-form-fieldhalf">

                                                    <label for="editMonthPakage">Months</label>
                                                    <select id="editMonthPakage" class="dropdown-toggle" onchange=""
                                                        style="appearance: none; -webkit-appearance: none; -moz-appearance: none; background-image: url('down-arrow.png'); background-repeat: no-repeat; background-position: right center;">
                                                        <option value="">Plans</option>
                                                        <option value="Month1">1 Month 15 KD</option>
                                                        <option value="Month3">3 Month 45 KD </option>
                                                        <option value="Month6">6 Month 75 KD</option>

                                                    </select>

                                                </div>


                                                <div class="tm-form-field term-condition">
                                                    <input type="checkbox" name="gift-hide-details"
                                                        id="gift-hide-details">
                                                    <label class="lbl-cus" for="gift-hide-details"> Hide my details

                                                    </label>
                                                </div>



                                                <div class="tm-form-field term-condition">
                                                    <input type="checkbox" name="gift-box-terms" id="gift-box-terms">
                                                    <label class="lbl-cus" for="gift-box-terms"> By clicking on proceed,
                                                        I agree to the
                                                        <a href="terms-and-conditions.html " class="text-primary"
                                                            target="_blank">Terms
                                                            and Conditions</a>
                                                        and
                                                        <a href="privacy-statement.html" class="text-primary"
                                                            target="_blank">Privacy
                                                            Policy</a>

                                                        <br>
                                                    </label>

                                                    <div>
                                                        <p id="terms-err" style="color: red;"></p>
                                                    </div>
                                                </div>


                                                <div class="tm-form-field tm-form-fieldhalf">
                                                    <button id="gift-box-pay" type="submit" class="tm-button"
                                                        style="border: none; outline: none;  background-color: #b12b52;">Pay
                                                        <b></b></button>
                                                </div>


                                            </div>
                                        </form>

                                    </div>
                                </div>
                            </div>


                        </div>


                        <div class="tab-pane fade" id="gift-History" role="tabpanel"
                            aria-labelledby="account-acdetails-tab">
                            <div
                                style="margin: auto;margin-top: -25px ;margin-bottom: 20px; background-color: rgb(110,198,183); width: 30%; padding: 10px;  border-radius: 10px; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">
                                <h4 style="color: white; font-weight: 600; margin: auto; text-align: center; ">Gift
                                    history</h4>
                            </div>



                            <div class="container gift-cards-history">

                                <div class="gift-card">

                                    <div class="gift-card-top">

                                        <div class="gift-card-top-left">
                                            <p style="margin-bottom: 8px;">ORDER# </p>
                                            <div class="gift-card-top-left-right" style="width: fit-content;">
                                                <marquee width="100%" scrolldelay="200">
                                                    <p style="margin-bottom: 0px;">64ca2364532686s7</p>
                                                </marquee>

                                            </div>
                                        </div>




                                        <p style="margin-bottom: 0px;">2th August</p>
                                    </div>

                                    <div class="gift-card-bottom">

                                        <div class="gift-card-bottom-left">

                                            <div class="gift-card-bottom-left-left">
                                                <p>Name: </p>
                                                <p>Number:</p>
                                                <p>Price: </p>
                                            </div>
                                            <div class="gift-card-bottom-left-right">
                                                <p>shjs Dhdj</p>
                                                <p>+965 86665585</p>
                                                <p>One Month 15KD</p>
                                            </div>

                                        </div>

                                        <div class="gift-card-bottom-right">
                                            <button>Subscribed</button>
                                        </div>
                                    </div>


                                </div>

                            </div>

                        </div>


                        <div class="tab-pane fade" id="account-Subscription" role="tabpanel"
                            aria-labelledby="account-acdetails-tab">
                            <div
                                style="margin: auto;margin-top: -25px ;margin-bottom: 20px; background-color: rgb(110,198,183); width: 30%; padding: 10px;  border-radius: 10px; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">
                                <h4 style=" color: white; font-weight: 600; margin: auto; text-align: center; ">
                                    Gift a Subscription</h4>
                            </div>
                            <form action="#" id="subscription-register" class="tm-form tm-form-bordered">
                                <!-- <h4>Account Details</h4> -->
                                <div class="tm-form-inner">
                                    <div class="tm-form-field tm-form-fieldhalf">
                                        <label for="subcription-acdetails-firstname">First name</label>
                                        <input type="text" onchange="subscriptionFirstNameValidation(event)"
                                            id="subcription-acdetails-firstname" required="required">
                                        <div>
                                            <p id="subscription-first-name-err" style="color: red;"></p>
                                        </div>
                                    </div>
                                    <div class="tm-form-field tm-form-fieldhalf">
                                        <label for="subcription-acdetails-lastname">Last name</label>
                                        <input type="text" onchange="subscriptionLastNameValidation(event)"
                                            id="subcription-acdetails-lastname" required="required">
                                        <div>
                                            <p id="subscription-last-name-err" style="color: red;"></p>
                                        </div>
                                    </div>


                                    <div class="tm-form-field col-lg-6 col-md-6 col-12">
                                        <label for="subcription-acdetails-mobile">Phone Number</label>
                                        <div style="display: flex">
                                            <div
                                                style="display: flex;border: 1px solid rgb(211, 209, 209);width: 110px ; margin-right: 10px;padding-left: 5px; padding-right: 5px; padding-top: 15px; column-gap: 4px;">
                                                <img src="img/Frame.png" alt=""
                                                    style="width: 30px; height: 20px; margin-right: 5px;">
                                                <span style="font-size: 13px">+965</span>
                                            </div>
                                            <input type="number" onchange="subscriptionPhoneNumberValidation(event)"
                                                id="subcription-acdetails-mobile" required="required" maxlength="8">
                                        </div>
                                        <div>
                                            <p id="subscription-mobile-number-err" style="color: red;"></p>
                                        </div>
                                    </div>



                                    <div class="tm-form-field tm-form-fieldhalf">

                                        <label for="editMonthPakage">Months</label>
                                        <select class="dropdown-toggle" id="editMonthPakage" onchange=""
                                            style="appearance: none; -webkit-appearance: none; -moz-appearance: none; background-image: url('down-arrow.png'); background-repeat: no-repeat; background-position: right center;">
                                            <option value="">Plans</option>
                                            <option value="Month1">1 Month 15 KD</option>
                                            <option value="Month3">3 Month 45 KD </option>
                                            <option value="Month6">6 Month 75 KD</option>

                                        </select>

                                    </div>

                                    <div style="margin-top: 50px;" class="tm-form-field term-condition">
                                        <input type="checkbox" name="subscription-hide-details"
                                            id="subscription-hide-details">
                                        <label class="lbl-cus" for="subscription-hide-details"> Hide my details
                                        </label>
                                    </div>



                                    <div class="tm-form-field term-condition">
                                        <input type="checkbox" name="subscription-box-terms"
                                            id="subscription-box-terms">
                                        <label class="lbl-cus" for="subscription-box-terms"> By Clicking on
                                            proceed, I agree to the
                                            <a href="terms-and-conditions.html" style="color: #b12b52;"
                                                class="text-primary" target="_blank">Terms
                                                and Conditions</a>
                                            and
                                            <a href="privacy-statement.html" style="color: #b12b52;"
                                                class="text-primary" target="_blank">Privacy
                                                Policy</a>
                                            of
                                            <br>
                                        </label>
                                    </div>


                                    <div class="tm-form-field tm-form-fieldhalf">
                                        <button type="submit" class="tm-button" id="subscription-pay"
                                            style="border: none; outline: none;  background-color: #b12b52;">Pay
                                            <b></b></button>
                                    </div>




                                </div>
                            </form>




                        </div>



                        <div class="tab-pane fade" id="account-Subscription-History" role="tabpanel"
                            aria-labelledby="account-acdetails-tab">

                            <div
                                style="margin: auto;margin-top: -25px ;margin-bottom: 20px; background-color: rgb(110,198,183); width: 35%; padding: 10px;  border-radius: 10px; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">
                                <h4 style=" color: white; font-weight: 600; margin: auto; text-align: center; ">
                                    Subscription History
                                </h4>


                            </div>


                            <div class="container subscribe-cards-history">

                                <div id="subscription-card" class="gift-card">
                                    <div class="gift-card-top">

                                        <div class="gift-card-top-left">
                                            <p style="margin-bottom: 8px;">ORDER# </p>
                                            <div class="gift-card-top-left-right" style="width: fit-content;">
                                                <marquee width="100%" scrolldelay="200">
                                                    <p style="margin-bottom: 0px;">64ca2364532686s7</p>
                                                </marquee>

                                            </div>
                                        </div>




                                        <p style="margin-bottom: 0px;">2th August</p>
                                    </div>

                                    <div class="gift-card-bottom">

                                        <div class="gift-card-bottom-left">

                                            <div class="gift-card-bottom-left-left">
                                                <p>Name: </p>
                                                <p>Number:</p>
                                                <p>Price: </p>
                                            </div>
                                            <div class="gift-card-bottom-left-right">
                                                <p>shjs Dhdj</p>
                                                <p>+965 86665585</p>
                                                <p>One Month 15KD</p>
                                            </div>

                                        </div>

                                        <div class="gift-card-bottom-right">
                                            <button>Subscribed</button>
                                        </div>
                                    </div>


                                </div>
                            </div>



                        </div>


                    </div>
                </div>
            </div>
        </div>
        <!--// My Account Area -->

    </main>
    <!--// Main Content -->
    <!--// Main Content -->
    <!-- Footer Section Begin -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-4 col-sm-6">
                    <div class="footer__about">
                        <div class="footer__logo" style="width: 70%;">
                            <a href="/"><img src="img/logo-mbyat (1).png" alt=""></a>
                        </div>
                        <p>Mbayat is a mystery subscription box tailored to costumer's interest, where you will get the
                            opportunity to try and experience new products and services matching your interest provided
                            by local brands and companies each month.</p>
                        <a href="#"><img src="img/logo.png" alt=""
                                style="width: 65px; height: 45px; border-radius: 2px;"></a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6">
                    <div class="footer__widget">
                        <h6>NewLetter</h6>
                        <div class="footer__newslatter">
                            <p>Be the first to know about new arrivals, look books, sales & promos!</p>
                            <form action="#">
                                <input type="text" placeholder="Your email">
                                <button type="submit"><span class="icon_mail_alt"></span></button>
                            </form>
                        </div>
                        <div class="hero__social">
                            <!-- <a href="#"><i class="fa fa-facebook"></i></a> -->
                            <a href="https://twitter.com/trymbayat"><i class="fa fa-twitter"></i></a>
                            <a href="https://www.instagram.com/trymbayat/"><i class="fa fa-instagram"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="footer__widget">
                        <h6>CONTACT US</h6>
                        <div class="footer__newslatter">
                            <p>MBAYAT Kuwait, Sharq, Ahmed Al Jaber Street, Al Gaz Tower,</p>
                            <div class="social_add">
                                <a href="tell:+965 90015060">+965 90015060</a>
                                <a href="info:info@trymbayat.com">info@trymbayat.com</a>
                                <div>
                                    <a href="venderSignup.html" class="btn btn-primary px-4 py-2 mt-4"
                                        id="vendor-signup-btn">Vendor Signup</a>
                                    <!-- <a href="corporateSignup.html" class="btn btn-primary px-4 py-2 mt-4"
                                        id="corporate-signup-btn">Corporate Signup</a> -->
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="row footer__copyright__text">
                <div class="col-lg-6 text-left">
                    <div class="">
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                        <p>Copyright ©
                            <script>
                                document.write(new Date().getFullYear());
                            </script>
                            <i class="fa fa-heart-o" aria-hidden="true"></i> <a href="#" target="_blank"> MBAYAT</a>
                        </p>
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="footer-link">
                        <ul>
                            <li>
                                <a href="contact.html">Contact Us</a>
                            </li>
                            <li>
                                <a href="about.html">About Us</a>
                            </li>
                            <li>
                                <a href="privacy-statement.html">Privacy policy</a>
                            </li>
                            <li>
                                <a href="terms-and-conditions.html">Terms & Conditions</a>
                            </li>
                        </ul>
                    </div>

                </div>
            </div>
        </div>
    </footer>
    <!-- Footer Section End -->

    <!-- Search Begin -->
    <div class="search-model">
        <div class="h-100 d-flex align-items-center justify-content-center">
            <div class="search-close-switch">+</div>
            <form class="search-model-form">
                <input type="text" id="search-input" placeholder="Search here.....">
            </form>
        </div>
    </div>
    <!-- Search End -->

    <!-- Js Plugins -->
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.nice-select.min.js"></script>
    <script src="js/jquery.nicescroll.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/jquery.countdown.min.js"></script>
    <script src="js/jquery.slicknav.js"></script>
    <script src="js/mixitup.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/main.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        // Carousel logic
        const carouselSlide = document.querySelector('.carousel-slide');
        const slides = carouselSlide.querySelectorAll('div');
        const slideWidth = slides[0].clientWidth;
        const slideDuration = 2000; // 2 seconds
        const totalDuration = slides.length * slideDuration;
        let counter = 0;
        let interval;

        function startSlide() {
            interval = setInterval(() => {
                carouselSlide.style.transition = 'transform 0.4s ease-in-out';
                carouselSlide.style.transform = 'translateX(' + (-slideWidth * counter) + 'px)';
                counter++;

                if (counter >= slides.length) {
                    counter = 0;
                }
            }, slideDuration);

            setTimeout(() => {
                clearInterval(interval);
                carouselSlide.style.transition = 'none';
                carouselSlide.style.transform = 'translateX(0)';
                counter = 0;
                startSlide();
            }, totalDuration);
        }

        startSlide();

        carouselSlide.addEventListener('transitionend', () => {
            if (counter >= slides.length) {
                carouselSlide.style.transition = 'none';
                carouselSlide.style.transform = 'translateX(0)';
                counter = 0;
            }
        });
    </script>




    <script>

        const userId = localStorage.getItem("loginId");
        const shippingId = localStorage.getItem("shippingId");






        const ALLOWED_PATHS = ['/my-account.html'];

        function isAllowedPath(path) {
            return ALLOWED_PATHS.includes(path);
        }

        function isLoggedIn() {
            return localStorage.getItem('access_token') !== null;
        }

        function redirectIfNotLoggedIn() {
            if (!isLoggedIn()) {
                window.location.href = 'login.html';
            }
        }

        function redirectIfNotAllowed() {
            if (!isAllowedPath(window.location.pathname)) {
                redirectIfNotLoggedIn();
            }
        }

        window.addEventListener('load', redirectIfNotAllowed);

        function handleLogout(event) {
            event.preventDefault()
            localStorage.removeItem("access_token")
            window.location.reload()
        }

        document.addEventListener("DOMContentLoaded", function () {
            var name = localStorage.getItem("first_name");
            var accountName = document.getElementById("accountname");
            if (!isLoggedIn()) {
                window.location.href = 'login.html';
                return;
            }

            var welcomeText = document.createElement("a");
            welcomeText.textContent = `Welcome, ${name}!`;
            welcomeText.style.fontWeight = "200"
            accountName.appendChild(welcomeText);
        });

        function fetchData() {
            fetch('https://15.185.57.60/api/v1/interest/interest-lists?fetchType=all')
                .then(response => response.json())
                .then(data => {


                    const interests = data.results;

                    const container = document.getElementById('container');
                    container.innerHTML = '';

                    interests.forEach(interest => {

                        const checkbox = document.createElement('input');
                        checkbox.className = 'form-check-input';
                        checkbox.id = interest.id;
                        checkbox.type = 'checkbox';
                        checkbox.name = 'item-checkbox';
                        checkbox.value = interest.name;

                        const label = document.createElement('label');
                        label.className = 'form-check-label';
                        label.htmlFor = checkbox.id;
                        label.textContent = interest.name;

                        const div = document.createElement('div');
                        div.className = 'form-check';
                        div.appendChild(checkbox);
                        div.appendChild(label);

                        checkbox.addEventListener('change', function () {



                            if (this.checked) {
                                fetchSubinterests(interest);
                            } else {

                                console.log("dischecked i removed in fetch data");

                                console.log("dischecked i removed in fetch data");

                                removeSubinterests(interest.id);
                            }
                        });
                        container.appendChild(div);



                        // Check the checkbox for interest if it is present in userInterests
                        // const userInterests = JSON.parse(localStorage.getItem("userInterests")) || [];
                        // // console.log("userInterests",userInterests);
                        // if (userInterests.includes(interest.id)) {
                        //     checkbox.checked = true;
                        //     fetchSubinterests(interest); // Fetch subinterests for checked interest
                        // }

                    });


                })
                .catch(error => {
                    console.error('Error fetching interests:', error);
                });
        }

        function fetchSubinterests(interest, userSubInterests) {

            fetch(`https://15.185.57.60/api/v1/interest/sub-interest-by-id/${interest.id}`)
                .then(response => response.json())
                .then(subInterestsData => {
                    const subinterests = subInterestsData.data;
                    const subinterestContainer = document.createElement('div');
                    subinterestContainer.className = 'interest-container';
                    subinterestContainer.id = `interest_${interest.id}`;
                    subinterestContainer.style.marginRight = '20px';
                    const interestHeading = document.createElement('h6');
                    interestHeading.textContent = `${interest.name}`;
                    subinterestContainer.appendChild(interestHeading);

                    const subinterestsContainer = document.getElementById('sub_container');

                    subinterests.forEach(subInterest => {

                        const subInterestCheckbox = document.createElement('input');
                        subInterestCheckbox.checked = isSubinterestChecked(subInterest.id, userSubInterests);

                        subInterestCheckbox.type = 'checkbox';
                        subInterestCheckbox.name = 'subitem-checkbox';
                        subInterestCheckbox.id = `sub${subInterest.id}`

                        subInterestCheckbox.value = subInterest.id;
                        subinterestContainer.appendChild(subInterestCheckbox);

                        const subInterestLabel = document.createElement('label');
                        subInterestLabel.setAttribute('for', `sub${subInterest.id}`);



                        subInterestLabel.textContent = subInterest.name;
                        subinterestContainer.appendChild(subInterestLabel);



                        subInterestCheckbox.addEventListener('change', function () {
                            const isChecked = userSubInterests.includes(subInterest.id);

                            if (this.checked && !isChecked) {
                                console.log("beforepushuserInterest", userSubInterests);

                                userSubInterests.push(subInterest.id);
                                console.log("afterpushuserInterest", userSubInterests);
                            }
                            // If the checkbox is unchecked and the subinterest is in userSubInterests, remove it
                            if (!this.checked && isChecked) {

                                const index = userSubInterests.indexOf(subInterest.id);
                                if (index !== -1) {

                                    userSubInterests.splice(index, 1);
                                    console.log("afteremoveInterest", userSubInterests);



                                }
                            }
                        });

                    });
                    
                    subinterestsContainer.appendChild(subinterestContainer);
                })
                .catch(error => {
                    console.error('Error fetching subinterests:', error);
                });
        }

        function removeSubinterests(interestId) {
            const subContainer = document.getElementById('sub_container');
            const interestContainer = document.getElementById(`interest_${interestId}`);



            subContainer.removeChild(interestContainer);



        }

        fetchData();

        function populateAccountDetailsForm(userId) {
            const token = localStorage.getItem("access_token");
            fetch(`https://15.185.57.60/api/v1/users/${userId}`, {
                method: 'GET',
                headers: {
                    'Authorization': `Bearer ${token}`
                }
            })
                .then(function (response) {
                    return response.json();
                })
                .then(function (data) {
                    



                    document.getElementById("acdetails-firstname").value = data.first_name;
                    document.getElementById("acdetails-lastname").value = data.last_name;
                    document.getElementById("acdetails-email").value = data.email;
                    document.getElementById("acdetails-password").value = data.mobile_number;
                    document.getElementById("acdetails-displayname").value = data.date_of_birth;

                    // Profile Editable Modal Form

                    document.getElementById("editable-acdetails-firstname").value = data.first_name;
                    document.getElementById("editable-acdetails-lastname").value = data.last_name;
                    document.getElementById("editable-acdetails-email").value = data.email;
                    document.getElementById("editable-acdetails-password").value = data.mobile_number;
                    document.getElementById("editable-acdetails-displayname").value = data.date_of_birth;


                    const genderSelect = document.getElementById("acdetails-gender");
                    const genderOptions = genderSelect.options;
                    for (let i = 0; i < genderOptions.length; i++) {
                        if (genderOptions[i].value === data.gender) {
                            genderOptions[i].selected = true;
                            break;
                        }
                    }
                    const userInterests = data.interests.map(interest => interest.id);

                    const userSubInterests = data.subInterests.map(subinterest => subinterest.id);
                    const interestsCheckboxes = document.querySelectorAll('#container input[name="item-checkbox"]');
                    let checkedInterestsCount = 0;
                    interestsCheckboxes.forEach(checkbox => {
                        checkbox.checked = userInterests.includes(checkbox.id);
                        if (checkbox.checked) {
                            checkedInterestsCount++;

                            fetchSubinterests({ id: checkbox.id, name: checkbox.value }, userSubInterests);
                        }

                        checkbox.addEventListener('change', function () {


                            if (this.checked) {
                                if (checkedInterestsCount >= 5) {
                                    this.checked = false;
                                    alert('You can select up to 5 interests only hey.');
                                } else {
                                    fetchSubinterests({ id: checkbox.id, name: checkbox.value }, userSubInterests);
                                    checkedInterestsCount++;

                                }
                            } else {

                                console.log("dischecked");
                                checkedInterestsCount--;

                                removeSubinterests(this.id);
                                const subinterestCheckboxes = document.querySelectorAll(`#sub_container input[value="${this.id}"]`);
                                subinterestCheckboxes.forEach(subCheckbox => {

                                    subCheckbox.checked = false;
                                });
                            }
                        });
                    });
                })
                .catch(function (error) {
                    console.error("Error fetching user data:", error);
                });
        }


        if (userId) {
            populateAccountDetailsForm(userId);
        }

        function isSubinterestChecked(subinterestId, userSubInterests) {



            return userSubInterests.includes(subinterestId);
        }

        function openAddAddressModal() {
            const modal = document.getElementById('addAddressModal');
            modal.style.display = 'block';
        }

        function closeAddAddressModal() {
            const modal = document.getElementById('addAddressModal');
            modal.style.display = 'none';
        }


        function openEditAddressModal(address) {


            latestShippingIdForEdit = address;

            const modal = document.getElementById('editAddressModal');

            modal.style.display = 'block';

        }


        function closeEditAddressModal() {
            const modal = document.getElementById('editAddressModal');
            modal.style.display = 'none';
        }


        async function fetchAddresses() {
            const userId = localStorage.getItem("loginId");
            const token = localStorage.getItem("access_token");
            try {
                const response = await fetch(`https://15.185.57.60/api/v1/users/get-all-shipping-address/${userId}`, {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });

                if (!response.ok) {
                    throw new Error('Failed to fetch addresses.');
                }
                const addresses = await response.json();

                const addresse = addresses.data;

                // const subContainer = document.getElementById('address_container');
                // editable-address-container Inside Edit ProfileModal

                const editableSubContainer = document.getElementById('editable_address_container');

                addresse.forEach((address, index) => {
                    const addressDiv = document.createElement('div');
                    addressDiv.classList.add('address-div');



                    addressDiv.innerHTML = `
                     <div>

                        <input type="radio" id="address-toggle-btn${index}"  class="class-button" name="address-radio-group" check-address-id="${address.id}" value="${address.state}-${address.country}"  onclick="editAddress(event)" />

                        <label for="address-toggle-btn${index}" >
                        ${address.country}${address.state ? ', ' + address.state : ''}${address.city ? ', ' + address.city : ''}${address.street2 ? ', ' + address.street2 : ''}${address.street1 ? ', ' + address.street1 : ''}${address.direction ? ', ' + address.direction : ''}${address.avenue ? ', ' + address.avenue : ''}${address.floor ? ', ' + address.floor : ''}${address.apartment ? ', ' + address.apartment : ''}${address.houseNo ? ', ' + address.houseNo : ''}.
                    </label>
                     
                    </div>
                    <div class="button-container">
                        <button edit-address-id="${address.id}" type="button" class="edit-button" style="background-color: rgb(73,197,182);border-radius: 10px; display:flex; height: 40px; padding: 15px; align-items:center">
                            <i class="fas fa-edit" style="margin-right:10px"></i>Edit
                        </button>
                        <button style="background-color: rgb(240,78,106);border-radius: 10px; display: flex; height: 40px; padding: 15px; align-items:center" type="button" class="delete-button" data-address-id="${address.id}">
                            <i class="fas fa-trash-alt" style="margin-right:10px"></i>Delete
                        </button>
                    </div>`;

                    // subContainer.appendChild(addressDiv);
                    editableSubContainer.appendChild(addressDiv);
                });


                editableSubContainer.addEventListener('click', function (event) {
                    const target = event.target;
                    if (target.classList.contains('delete-button')) {
                        const addressId = target.getAttribute('data-address-id');
                        deleteAddress(addressId);
                    } else if (target.classList.contains('edit-button')) {
                        const addressId = target.getAttribute('edit-address-id');

                        openEditAddressModal(addressId);

                    } else if (target.classList.contains('class-button')) {

                        const addressId = target.getAttribute('check-address-id');

                        editAddress(addressId);

                    }
                });



            } catch (error) {
                console.error('Error fetching addresses:', error);
            }
        }

        fetchAddresses()

        function deleteAddress(addressId) {
            const buttonElement = event.target;
            const shippingId = addressId
            console.log("shippingId", shippingId)
            const addressDiv = buttonElement.parentElement.parentElement;
            console.log("addressDiv", addressDiv)
            const userId = localStorage.getItem("loginId");
            const token = localStorage.getItem("access_token");

            fetch("https://15.185.57.60/api/v1/users/delete-shipping-address", {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${token}`
                },
                body: JSON.stringify({ shippingId: shippingId }),
            })
                .then((response) => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then((data) => {
                    console.log('Address deleted:', data);
                    addressDiv.remove();
                    // fetchAddresses();
                })
                .catch((error) => {
                    console.error('Error deleting address:', error);
                });

        }

function editAddress(latestShippingAddressId) {

            console.log("edit addrress",latestShippingAddressId);

        }

        function toggleGiftDropdown() {
            var dropdown = document.querySelector(".dropdown-content");
            var dropbtn = document.querySelector(".dropbtn");

            dropbtn.classList.toggle("active");

            if (dropdown.style.display === "block") {
                dropdown.style.display = "none";
                dropbtn.classList.remove("active");
            } else {
                dropdown.style.display = "block";
                dropbtn.classList.add("active");
            }
        }

        document.addEventListener("click", function (event) {
            var dropdown = document.querySelector(".dropdown-content");
            var dropbtn = document.querySelector(".dropbtn");

            if (!event.target.matches(".dropbtn") && dropdown.style.display === "block") {
                dropdown.style.display = "none";
                dropbtn.classList.remove("active");
            }
        });

        var areasByState = {
            'Al Asimah': ['Kuwait City', 'Sharq', 'Jaber Al-Ahmad City', 'Mirqab', 'Dasman', 'Salhiya', 'Salmiya', 'Hawally', 'Mishref', 'Bayan'],
            'Hawalli': ['Mishref', 'Salmiya', 'Bayan', 'Rumaithiya', 'Salwa', 'Rai'],
            'Farwaniya': ['Al Dajeej', 'Abdullah Al-Mubarak Al-Sabah', 'Al-Rai', 'Jleeb Al-Shuyoukh', 'Al-Riggae', 'Khaitan'],
            'Ahmadi': ['Fintas', 'Manqaf', 'Wafrah', 'Riqqh'],
            'Mubarak Alkabeer': ['Abu Fatira', 'Abu Halifa', 'Al Wafra', 'Bnaider', 'Fahaheel', 'Jaber Al Ahmad', 'Mangaf'],
            'Jahra': ['Naseem', 'Al Sulaibikhat', 'Amghara', 'Kabad', 'Jahra Industrial Area', 'Qasr']
        }


        function populateAreas(event) {
            const selectedState = event.target.value;
            const areaDropdown = document.getElementById('editAddressArea');
            areaDropdown.innerHTML = '';

            const selectAreaOption = document.createElement('option');
            selectAreaOption.value = '';
            selectAreaOption.textContent = 'Select Area';
            areaDropdown.appendChild(selectAreaOption);

            const selectedStateAreas = areasByState[selectedState];

            if (selectedStateAreas) {
                let clutter3 = ''
                selectedStateAreas.forEach(area => {

                    const option = document.createElement('option');
                    option.value = area;
                    option.textContent = area;
                    areaDropdown.appendChild(option);
                    // console.log("areaDropdown", areaDropdown);
                });


                areaDropdown.style.display = 'Initial';

            }
        }


        function populateAreas2(event) {



            const selectedState = event.target.value;
            const areaDropdown = document.getElementById('area');
            areaDropdown.innerHTML = '';


            const selectAreaOption = document.createElement('option');
            selectAreaOption.value = '';
            selectAreaOption.textContent = 'Select Area';
            areaDropdown.appendChild(selectAreaOption);

            const selectedStateAreas = areasByState[selectedState];

            if (selectedStateAreas) {
                let clutter3 = ''
                selectedStateAreas.forEach(area => {

                    const option = document.createElement('option');
                    option.value = area;
                    option.textContent = area;
                    areaDropdown.appendChild(option);
                    // console.log("areaDropdown", areaDropdown);
                });

                areaDropdown.style.display = 'Initial';

            }

        }



        function handleEditButtonClick(addressString) {


            const address = JSON.parse(addressString);
            openEditAddressModal(address);

                areaDropdown.style.display = 'Initial';
            }
        }

        function populateAreas2(event) {
            const selectedState = event.target.value;
            const areaDropdown = document.getElementById('area');
            areaDropdown.innerHTML = '';
            const selectAreaOption = document.createElement('option');
            selectAreaOption.value = '';
            selectAreaOption.textContent = 'Select Area';
            areaDropdown.appendChild(selectAreaOption);
            const selectedStateAreas = areasByState[selectedState];
            if (selectedStateAreas) {
                let clutter3 = ''
                selectedStateAreas.forEach(area => {
                    const option = document.createElement('option');
                    option.value = area;
                    option.textContent = area;
                    areaDropdown.appendChild(option);
                    // console.log("areaDropdown", areaDropdown);
                });
                areaDropdown.style.display = 'Initial';
            }
        }

        function handleEditButtonClick(addressString) {
            const address = JSON.parse(addressString);
            openEditAddressModal(address);
        }

        // Add new Address function
        document.addEventListener('DOMContentLoaded', function () {
            const form = document.getElementById('addAddressForm');
            const submitButton = document.getElementById('addNewAddressSubmit');
            const currentUserId = localStorage.getItem("loginId");
            const token = localStorage.getItem("access_token");
            form.addEventListener('submit', async function (event) {
                event.preventDefault();
                // Handle form submission logic here
                const addressName = document.getElementById('addressName').value;
                const country = document.getElementById('country').value;
                const state = document.getElementById('state').value;
                const area = document.getElementById('area').value;
                const block = document.getElementById('block').value;
                const houseNo = document.getElementById('houseNo').value;
                const street = document.getElementById('street').value;
                const apartment = document.getElementById('apartment').value;
                const floor = document.getElementById('floor').value;
                const avenue = document.getElementById('avenue').value;
    
                const data = {
                    userId: currentUserId,
                    state: state,
                    street1: street,
                    city: area,
                    pinCode: block,
                    country: country,
                    houseNo: houseNo,
                    apartment: apartment,
                    floor: floor,
                    avenue: avenue,
                    direction: direction,
                    addressName: addressName,
                    country_code: '+91',
                };

                fetch('https://15.185.57.60/api/v1/users/create-user-shipping-address', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify(data),
                })
                    .then(response => response.json())
                    .then(result => {
                        console.log(result);
                        if (result.tokens) {
                            form.reset();
                            alert('Adresss add Successful!!');
                        } else {
                            alert(result.message);
                        }
                    })
                    .catch(error => {
                        console.error('Error submitting form:', error);
                    });
            });
        });
        
        // updateAddress  function 
        document.addEventListener('DOMContentLoaded', function () {

            const form = document.getElementById('editAddressForm');
            const submitButton = document.getElementById('editNewAddressSubmit');
            const currentUserId = localStorage.getItem("loginId");
            const token = localStorage.getItem("access_token");

            form.addEventListener('submit', async function (event) {
                event.preventDefault();
                // Handle form submission logic here
                const shippingId = latestShippingIdForEdit;
                const addressName = document.getElementById('editAddressName').value;
                const country = document.getElementById('editAddressCountry').value;
                const state = document.getElementById('editAddressState').value;
                const area = document.getElementById('editAddressArea').value;
                const block = document.getElementById('editAddressBlock').value;
                const houseNo = document.getElementById('editAddressHouseNo').value;
                const street = document.getElementById('editAddressStreet').value;
                const apartment = document.getElementById('editAddressApartment').value;
                const floor = document.getElementById('editAddressFloor').value;
                const avenue = document.getElementById('editAddressAvenue').value;
                const direction = document.getElementById('editAddressDirection').value;

                const data = {
                    userId: currentUserId,
                    state: state,
                    shippingId: shippingId,
                    street1: street,
                    city: area,
                    pinCode: block,
                    country: country,
                    houseNo: houseNo,
                    apartment: apartment,
                    floor: floor,
                    avenue: avenue,
                    direction: direction,
                    addressName: addressName,
                    country_code: '+91',
                };

                fetch('https://15.185.57.60/api/v1/users/update-shipping-address', {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify(data),
                })
                    .then(response => response.json())
                    .then(result => {
                        console.log(result);
                        if (result.tokens) {
                            form.reset();
                            alert('Adresss is updated  Successful!!');
                        } else {
                            alert(result.message);
                        }
                    })
                    .catch(error => {
                        console.error('Error submitting form:', error);
                    });
            });
        });

        // Update Profile function
        document.addEventListener('DOMContentLoaded', function () {
            const form = document.getElementById('editProfileForm');
            const submitButton = document.getElementById('editProfileSubmit');
            const currentUserId = localStorage.getItem("loginId");
            const token = localStorage.getItem("access_token");

            form.addEventListener('submit', async function (event) {
                closeEditProfileModal();
                event.preventDefault();
                // Handle form submission logic here
                const first_name = document.getElementById("editable-acdetails-firstname").value;
                const last_name = document.getElementById("editable-acdetails-lastname").value;
                const email = document.getElementById("editable-acdetails-email").value;
                const mobile_number = document.getElementById("editable-acdetails-password").value;
                const date_of_birth = document.getElementById("editable-acdetails-displayname").value;
                const interest = '643bacaf4d09602aa0916760,643bacaa4d09602aa0916749'
                const subinterest = '64398733e489923d28d4750e'
                console.log("form update submit ", currentUserId, first_name, last_name, date_of_birth);
                const data = {
                    first_name: first_name,
                    last_name: last_name,
                    date_of_birth: date_of_birth,
                    email: email,
                    mobile_number: mobile_number,
                    date_of_birth: date_of_birth,
                    interests: interest,
                    subInterests: subinterest,

                };
                fetch(`https://15.185.57.60/api/v1/users/update-user/${currentUserId}`, {
                    method: 'PATCH',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify(data),
                })
                    .then(response => response.json())
                    .then(result => {
                        console.log("hey", result);
                        if (result.tokens) {
                            form.reset();
                            alert('Profile is Updated Successful!!');
                        } else {
                            alert(result.message);
                        }
                    })
                    .catch(error => {
                        console.error('Error submitting form:', error);
                    });
            });
        });
        
        // open profile edit modal
        function openEditProfileModal() {
            disableScroll();
            const modal = document.getElementById('editProfileModal');
            modal.style.display = 'block';
        }
        
        // Close profile edit modal
        function closeEditProfileModal() {
            enableScroll();
            const modal = document.getElementById('editProfileModal');
            modal.style.display = 'none';
        }
        
        // Enable or Disable scrolling at opening modal
        function disableScroll() {
            // Get the current page scroll position
            scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            scrollLeft = window.pageXOffset || document.documentElement.scrollLeft,
                // if any scroll is attempted, set this to the previous value
                window.onscroll = function () {
                    window.scrollTo(scrollLeft, scrollTop);
                };
        }

        function enableScroll() {
            window.onscroll = function () { };
        }

        // Not Editable fetch interest for profile  
        function popluateInterestDataForProfile() {
            const token = localStorage.getItem("access_token");
            fetch(`https://15.185.57.60/api/v1/users/${userId}`, {
                method: 'GET',
                headers: {
                    'Authorization': `Bearer ${token}`
                }
            })
                .then(function (response) {
                    return response.json();
                })
                .then(function (data) {
                    const userInterests = data.interests.map(interest => interest);
                    const userInterestsId = data.interests.map(interest => interest.id);

                    const userSubInterests = data.subInterests.map(subinterest => subinterest);
                    const userSubInterestsId = data.subInterests.map(subinterest => subinterest.id);
                    const notEditableContainer = document.getElementById('notEditableContainer');
                    notEditableContainer.innerHTML = '';

                    userInterests.forEach(interest => {
                        const checkbox = document.createElement('input');
                        checkbox.className = 'form-check-input-not-edit';
                        checkbox.checked = true;
                        checkbox.id = `P${interest.id}`;
                        checkbox.type = 'checkbox';
                        checkbox.name = 'not-edit-item-checkbox';
                        checkbox.disabled = true;
                        checkbox.value = interest.name;

                        checkbox.checked = true;

                        const label = document.createElement('label');
                        label.className = 'form-check-label';
                        label.htmlFor = `P${interest}`;
                        label.textContent = interest.name;

                        const div = document.createElement('div');
                        div.className = 'form-check';
                        div.appendChild(checkbox);
                        div.appendChild(label);
                        notEditableContainer.appendChild(div);

                    });
                    // userSubInterests.forEach(subInterest=>{

                    //     console.log(subInterest.name)
                    // })

                    const interestsCheckboxes = document.querySelectorAll('#notEditableContainer input[name="not-edit-item-checkbox"]');

                    let checkedInterestsCount = 0;
                    interestsCheckboxes.forEach(checkbox => {
                        let checkboxId = checkbox.id.slice(1);
                        checkedInterestsCount++;
                        popluateSubInterestDataForProfile({ id: checkboxId, name: checkbox.value }, userSubInterestsId);
                    });
                })
                .catch(function (error) {
                    console.error("Error fetching user data:", error);
                });
        }
       
        // Not Editable fetch sub interest for profile  
        function popluateSubInterestDataForProfile(interest, userSubInterests) {
            fetch(`https://15.185.57.60/api/v1/interest/sub-interest-by-id/${interest.id}`)
                .then(response => response.json())
                .then(subInterestsData => {
                    const subinterests = subInterestsData.data;
                    const subinterestContainer = document.createElement('div');
                    subinterestContainer.className = 'interest-container';
                    subinterestContainer.id = `sub-interest_${interest.id}`;
                    subinterestContainer.style.marginRight = '20px';
                    const interestHeading = document.createElement('h6');
                    interestHeading.textContent = `${interest.name}`;
                    subinterestContainer.appendChild(interestHeading);

                    const subinterestsContainer = document.getElementById('notEditableSubContainer');

                    const updatedSubinterest = subinterests.filter((subinterest) => {
                        return isSubinterestChecked(subinterest.id, userSubInterests);
                    });
                    updatedSubinterest.forEach(subInterest => {
                        const subInterestCheckbox = document.createElement('input');
                        subInterestCheckbox.checked = true;
                        subInterestCheckbox.disabled = true;
                        // subInterestCheckbox.checked = isSubinterestChecked(subInterest.id, userSubInterests);

                        subInterestCheckbox.type = 'checkbox';
                        subInterestCheckbox.name = 'not-edit-subitem-checkbox';
                        subInterestCheckbox.id = `not_Edit_sub${subInterest.id}`;
                        subInterestCheckbox.value = subInterest.id;
                        subinterestContainer.appendChild(subInterestCheckbox);

                        const subInterestLabel = document.createElement('label');
                        subInterestLabel.setAttribute('for', `not_Edit_sub${subInterest.id}`);

                        subInterestLabel.textContent = subInterest.name;
                        subinterestContainer.appendChild(subInterestLabel);

                    });

                    // Append the subinterest container to the main container
                    subinterestsContainer.appendChild(subinterestContainer);
                })
                .catch(error => {
                    console.error('Error fetching subinterests:', error);
                });
        }

        if (userId) {
            popluateInterestDataForProfile();
        }



        // Add new Address function
        document.addEventListener('DOMContentLoaded', function () {


            const form = document.getElementById('addAddressForm');
            const submitButton = document.getElementById('addNewAddressSubmit');
            const currentUserId = localStorage.getItem("loginId");
            const token = localStorage.getItem("access_token");


            form.addEventListener('submit', async function (event) {
                event.preventDefault();
                // Handle form submission logic here
                const addressName = document.getElementById('addressName').value;
                const country = document.getElementById('country').value;
                const state = document.getElementById('state').value;
                const area = document.getElementById('area').value;
                const block = document.getElementById('block').value;
                const houseNo = document.getElementById('houseNo').value;
                const street = document.getElementById('street').value;
                const apartment = document.getElementById('apartment').value;
                const floor = document.getElementById('floor').value;
                const avenue = document.getElementById('avenue').value;
                const direction = document.getElementById('direction').value;




                const data = {
                    userId: currentUserId,
                    state: state,
                    street1: street,
                    city: area,
                    pinCode: block,
                    country: country,
                    houseNo: houseNo,
                    apartment: apartment,
                    floor: floor,
                    avenue: avenue,
                    direction: direction,
                    addressName: addressName,
                    country_code: '+91',
                };



                fetch('https://15.185.57.60/api/v1/users/create-user-shipping-address', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`

                    },
                    body: JSON.stringify(data),
                })
                    .then(response => response.json())
                    .then(result => {
                        console.log(result);
                        if (result.tokens) {
                            form.reset();
                            alert('Adresss add Successful!!');
                        } else {
                            alert(result.message);
                        }
                    })
                    .catch(error => {
                        console.error('Error submitting form:', error);
                    });



            });


        });


        // updateAddress  function 
        document.addEventListener('DOMContentLoaded', function () {

            const form = document.getElementById('editAddressForm');
            const submitButton = document.getElementById('editNewAddressSubmit');
            const currentUserId = localStorage.getItem("loginId");
            const token = localStorage.getItem("access_token");


            form.addEventListener('submit', async function (event) {

                event.preventDefault();
                // Handle form submission logic here
                const shippingId = latestShippingIdForEdit;
                const addressName = document.getElementById('editAddressName').value;
                const country = document.getElementById('editAddressCountry').value;
                const state = document.getElementById('editAddressState').value;
                const area = document.getElementById('editAddressArea').value;
                const block = document.getElementById('editAddressBlock').value;
                const houseNo = document.getElementById('editAddressHouseNo').value;
                const street = document.getElementById('editAddressStreet').value;
                const apartment = document.getElementById('editAddressApartment').value;
                const floor = document.getElementById('editAddressFloor').value;
                const avenue = document.getElementById('editAddressAvenue').value;
                const direction = document.getElementById('editAddressDirection').value;





                const data = {
                    userId: currentUserId,
                    state: state,

                    shippingId: shippingId,
                    street1: street,
                    city: area,
                    pinCode: block,
                    country: country,
                    houseNo: houseNo,
                    apartment: apartment,
                    floor: floor,
                    avenue: avenue,
                    direction: direction,
                    addressName: addressName,
                    country_code: '+91',
                };



                fetch('https://15.185.57.60/api/v1/users/update-shipping-address', {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`

                    },
                    body: JSON.stringify(data),
                })
                    .then(response => response.json())
                    .then(result => {
                        console.log(result);
                        if (result.tokens) {
                            form.reset();
                            alert('Adresss is updated  Successful!!');
                        } else {
                            alert(result.message);
                        }
                    })
                    .catch(error => {
                        console.error('Error submitting form:', error);
                    });



            });



        });

        // Update Profile function
        document.addEventListener('DOMContentLoaded', function () {

            const form = document.getElementById('editProfileForm');
            const submitButton = document.getElementById('editProfileSubmit');
            const currentUserId = localStorage.getItem("loginId");
            const token = localStorage.getItem("access_token");


            form.addEventListener('submit', async function (event) {
                closeEditProfileModal();

                event.preventDefault();
                // Handle form submission logic here
                const first_name = document.getElementById("editable-acdetails-firstname").value;
                const last_name = document.getElementById("editable-acdetails-lastname").value;
                const email = document.getElementById("editable-acdetails-email").value;
                const mobile_number = document.getElementById("editable-acdetails-password").value;
                const date_of_birth = document.getElementById("editable-acdetails-displayname").value;
                const interest = '643bacaf4d09602aa0916760,643bacaa4d09602aa0916749'
                const subinterest = '64398733e489923d28d4750e'
                console.log("form update submit ", currentUserId, first_name, last_name, date_of_birth);



                const data = {
                    first_name: first_name,
                    last_name: last_name,
                    date_of_birth: date_of_birth,
                    email: email,
                    mobile_number: mobile_number,
                    date_of_birth: date_of_birth,
                    interests: interest,
                    subInterests: subinterest,

                };



                fetch(`https://15.185.57.60/api/v1/users/update-user/${currentUserId}`, {

                    method: 'PATCH',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`

                    },
                    body: JSON.stringify(data),
                })
                    .then(response => response.json())
                    .then(result => {
                        console.log("hey", result);
                        if (result.tokens) {
                            form.reset();
                            alert('Profile is Updated Successful!!');
                        } else {
                            alert(result.message);
                        }
                    })
                    .catch(error => {
                        console.error('Error submitting form:', error);
                    });



            });



        });





        // open profile edit modal
        function openEditProfileModal() {
            disableScroll();
            const modal = document.getElementById('editProfileModal');
            modal.style.display = 'block';

        }
        // Close profile edit modal


        function closeEditProfileModal() {
            enableScroll();
            const modal = document.getElementById('editProfileModal');
            modal.style.display = 'none';
        }
        // Enable or Disable scrolling at opening modal

        function disableScroll() {
            // Get the current page scroll position
            scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            scrollLeft = window.pageXOffset || document.documentElement.scrollLeft,

                // if any scroll is attempted, set this to the previous value
                window.onscroll = function () {
                    window.scrollTo(scrollLeft, scrollTop);
                };
        }

        function enableScroll() {
            window.onscroll = function () { };
        }


        // Not Editable fetch interest for profile  
        function popluateInterestDataForProfile() {

            // firstly fetch data of user
            const token = localStorage.getItem("access_token");
            fetch(`https://15.185.57.60/api/v1/users/${userId}`, {
                method: 'GET',
                headers: {
                    'Authorization': `Bearer ${token}`
                }
            })
                .then(function (response) {
                    return response.json();
                })
                .then(function (data) {


                    const userInterests = data.interests.map(interest => interest);
                    const userInterestsId = data.interests.map(interest => interest.id);

                    const userSubInterests = data.subInterests.map(subinterest => subinterest);
                    const userSubInterestsId = data.subInterests.map(subinterest => subinterest.id);

                    // created User Interest checkbo

                    const notEditableContainer = document.getElementById('notEditableContainer');

                    notEditableContainer.innerHTML = '';

                    userInterests.forEach(interest => {

                        const checkbox = document.createElement('input');
                        checkbox.className = 'form-check-input-not-edit';
                        checkbox.checked = true;
                        checkbox.id = `P${interest.id}`;
                        checkbox.type = 'checkbox';
                        checkbox.name = 'not-edit-item-checkbox';
                        // Make the checkbox not editable
                        checkbox.disabled = true;

                        checkbox.value = interest.name;
                        // Set the checkbox as checked


                        checkbox.checked = true;

                        const label = document.createElement('label');
                        label.className = 'form-check-label';
                        label.htmlFor = `P${interest}`;
                        label.textContent = interest.name;


                        const div = document.createElement('div');
                        div.className = 'form-check';
                        div.appendChild(checkbox);
                        div.appendChild(label);


                        notEditableContainer.appendChild(div);

                    });



                    const interestsCheckboxes = document.querySelectorAll('#notEditableContainer input[name="not-edit-item-checkbox"]');

                    let checkedInterestsCount = 0;
                    interestsCheckboxes.forEach(checkbox => {

                        let checkboxId = checkbox.id.slice(1);


                        checkedInterestsCount++;
                        popluateSubInterestDataForProfile({ id: checkboxId, name: checkbox.value }, userSubInterestsId);


                    });


                })
                .catch(function (error) {
                    console.error("Error fetching user data:", error);
                });

        }



        // Not Editable fetch sub interest for profile  

        function popluateSubInterestDataForProfile(interest, userSubInterests) {

            fetch(`https://15.185.57.60/api/v1/interest/sub-interest-by-id/${interest.id}`)
                .then(response => response.json())
                .then(subInterestsData => {


                    const subinterests = subInterestsData.data;
                    const subinterestContainer = document.createElement('div');
                    subinterestContainer.className = 'interest-container';
                    subinterestContainer.id = `sub-interest_${interest.id}`;
                    subinterestContainer.style.marginRight = '20px';
                    const interestHeading = document.createElement('h6');
                    interestHeading.textContent = `${interest.name}`;
                    subinterestContainer.appendChild(interestHeading);

                    const subinterestsContainer = document.getElementById('notEditableSubContainer');

                    const updatedSubinterest = subinterests.filter((subinterest) => {


                        return isSubinterestChecked(subinterest.id, userSubInterests);
                    });


                    updatedSubinterest.forEach(subInterest => {


                        const subInterestCheckbox = document.createElement('input');
                        subInterestCheckbox.checked = true;
                        subInterestCheckbox.disabled = true;
                        // subInterestCheckbox.checked = isSubinterestChecked(subInterest.id, userSubInterests);

                        subInterestCheckbox.type = 'checkbox';
                        subInterestCheckbox.name = 'not-edit-subitem-checkbox';
                        subInterestCheckbox.id = `not_Edit_sub${subInterest.id}`;




                        subInterestCheckbox.value = subInterest.id;
                        subinterestContainer.appendChild(subInterestCheckbox);

                        const subInterestLabel = document.createElement('label');
                        subInterestLabel.setAttribute('for', `not_Edit_sub${subInterest.id}`);


                        subInterestLabel.textContent = subInterest.name;
                        subinterestContainer.appendChild(subInterestLabel);

                    });



                    // Append the subinterest container to the main container
                    subinterestsContainer.appendChild(subinterestContainer);
                })
                .catch(error => {
                    console.error('Error fetching subinterests:', error);
                });
        }


        if (userId) {
            popluateInterestDataForProfile();

        }


        function fetchSelectedAddress() {


            const token = localStorage.getItem("access_token");

            fetch(`https://15.185.57.60/api/v1/users/get-shipping-address-by-id/${shippingId}`, {
                method: 'GET',
                headers: {
                    'Authorization': `Bearer ${token}`
                }
            })
                .then(function (response) {
                    return response.json();
                })
                .then(function (data) {
                    console.log(data)

                    document.getElementById("current_shipping_address_container").textContent = `${data.country}${data.state ? ', ' + data.state : ''}${data.city ? ', ' + data.city : ''}${data.street2 ? ', ' + data.street2 : ''}${data.street1 ? ', ' + data.street1 : ''}${data.direction ? ', ' + data.direction : ''}${data.avenue ? ', ' + data.avenue : ''}${data.floor ? ', ' + data.floor : ''}${apartment ? ', ' + data.apartment : ''}${data.houseNo ? ', ' + data.houseNo : ''}.`;

                }).catch(function (error) {
                    console.error("Error fetching user data:", error);
                });



        }

        if (shippingId) {
            fetchSelectedAddress();

        }

    </script>


    <script>
        // <![CDATA[  <-- For SVG support
        if ('WebSocket' in window) {
            (function () {
                function refreshCSS() {
                    var sheets = [].slice.call(document.getElementsByTagName("link"));
                    var head = document.getElementsByTagName("head")[0];
                    for (var i = 0; i < sheets.length; ++i) {
                        var elem = sheets[i];
                        var parent = elem.parentElement || head;
                        parent.removeChild(elem);
                        var rel = elem.rel;
                        if (elem.href && typeof rel != "string" || rel.length == 0 || rel.toLowerCase() == "stylesheet") {
                            var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
                            elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
                        }
                        parent.appendChild(elem);
                    }
                }
                var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
                var address = protocol + window.location.host + window.location.pathname + '/ws';
                var socket = new WebSocket(address);
                socket.onmessage = function (msg) {
                    if (msg.data == 'reload') window.location.reload();
                    else if (msg.data == 'refreshcss') refreshCSS();
                };
                if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
                    console.log('Live reload enabled.');
                    sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
                }
            })();
        }
        else {
            console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
        }
	// ]]>
    </script>

 <!--Gift script-->
 <script>
    document.addEventListener('DOMContentLoaded', function () {
        const selectedInterests = new Set();
        const subinterestContainers = {};

        function fetchInterests() {
            fetch('https://15.185.57.60/api/v1/interest/interest-lists?fetchType=all')
                .then(response => response.json())
                .then(data => {
                    const interests = data.results;
                    const container = document.getElementById('box-container');

                    interests.forEach(interest => {
                        const checkbox = document.createElement('input');
                        checkbox.className = 'box-form-check-input';
                        checkbox.id = `box-${interest.id}`;
                        checkbox.type = 'checkbox';
                        checkbox.name = 'box-item-checkbox';
                        checkbox.value = interest.name;

                        const label = document.createElement('label');
                        label.className = 'box-form-check-label';
                        label.htmlFor = checkbox.id;
                        label.textContent = interest.name;

                        const div = document.createElement('div');
                        div.className = 'box-form-check';
                        div.appendChild(checkbox);
                        div.appendChild(label);

                        container.appendChild(div);

                        checkbox.addEventListener('change', function () {
                            if (this.checked) {
                                if (selectedInterests.size < 5) {
                                    selectedInterests.add(interest.id);
                                    fetchSubinterests(interest.id);
                                } else {
                                    this.checked = false;
                                    alert('Only 5 interests can be selected!!');
                                }
                            } else {
                                selectedInterests.delete(interest.id);
                                removeSubinterests(interest.id);
                            }
                        });
                    });
                })
                .catch(error => {
                    console.error('Error fetching interests:', error);
                });
        }

        function fetchSubinterests(interestId) {
            fetch(`https://15.185.57.60/api/v1/interest/sub-interest-by-id/${interestId}`)
                .then(response => response.json())
                .then(data => {
                    const subinterests = data.data;
                    const container = document.getElementById('sub-box-container');
                    container.style.display = "flex";
                    container.style.columnGap = "20px"
                    const selectedInterest = document.getElementById(`box-${interestId}`);

                    const subinterestContainer = document.createElement('div');
                    subinterestContainer.className = 'subinterest-container'; 

                    const interestHeading = document.createElement('h6');
                    interestHeading.textContent = selectedInterest.value;

                    subinterestContainer.appendChild(interestHeading);

                    subinterests.forEach(subinterest => {
                        const checkbox = document.createElement('input');
                        checkbox.className = 'box-form-check-input';
                        checkbox.id = `box-sub-${subinterest.id}`;
                        checkbox.type = 'checkbox';
                        checkbox.name = 'box-subitem-checkbox';
                        checkbox.value = subinterest.name;

                        const label = document.createElement('label');
                        label.className = 'box-form-check-label';
                        label.htmlFor = checkbox.id;
                        label.textContent = subinterest.name;

                        const div = document.createElement('div');
                        div.className = 'box-form-check';
                        div.appendChild(checkbox);
                        div.appendChild(label);

                        subinterestContainer.appendChild(div);

                        checkbox.addEventListener('change', function () {
                            if (this.checked) {
                                if (!selectedInterests.has(interestId)) {
                                    selectedInterests.add(interestId);
                                }
                            } else {
                                selectedInterests.delete(interestId);
                            }
                        });
                    });

                    container.appendChild(subinterestContainer);
                    subinterestContainers[interestId] = subinterestContainer;
                })
                .catch(error => {
                    console.error('Error fetching subinterests:', error);
                });
        }

        function removeSubinterests(interestId) {
            const container = document.getElementById('sub-box-container');
            const interestContainer = subinterestContainers[interestId];
            if (interestContainer) {
                container.removeChild(interestContainer);
                delete subinterestContainers[interestId];
            }
        }
        fetchInterests();
    });

</script>


</body>

</html>